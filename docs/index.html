

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to ManipulateAggregates’s documentation! &mdash; ManipulateAggregates 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> ManipulateAggregates
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to ManipulateAggregates’s documentation!</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#the-manipagg-program">The <cite>manipagg</cite> Program</a><ul>
<li><a class="reference internal" href="#command-line-switches">Command line switches:</a></li>
<li><a class="reference internal" href="#more-information-about-geometry-manipulation-switches">More information about geometry manipulation switches:</a></li>
<li><a class="reference internal" href="#more-information-about-switches-regarding-potentials-charges-and-densities">More information about switches regarding potentials, charges and densities:</a></li>
<li><a class="reference internal" href="#more-information-about-visualization-switches">More information about visualization switches:</a></li>
<li><a class="reference internal" href="#auxilliary-switches-that-only-output-information">Auxilliary switches that only output information:</a></li>
<li><a class="reference internal" href="#help-text-for-the-renderpath-command">Help text for the --renderpath command:</a></li>
<li><a class="reference internal" href="#help-text-for-the-closer-command-and-the-closer-vec-command">Help text for the --closer command and the --closer-vec command:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-energyscan-program">The <cite>energyscan</cite> Program</a><ul>
<li><a class="reference internal" href="#default-config-file">Default config file:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-ManipulateAggregates">The Python Package</a><ul>
<li><a class="reference internal" href="#module-ManipulateAggregates.aggregate">Aggregate</a></li>
<li><a class="reference internal" href="#module-ManipulateAggregates.collection">Collection</a></li>
<li><a class="reference internal" href="#module-ManipulateAggregates.collection.gnuplot">Collection.gnuplot</a></li>
<li><a class="reference internal" href="#module-ManipulateAggregates.collection.opengl">Collection.opengl</a></li>
<li><a class="reference internal" href="#module-ManipulateAggregates.energyscan">EnergyScan</a></li>
<li><a class="reference internal" href="#module-ManipulateAggregates.orbitalcharacter">Orbitalcharacter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ManipulateAggregates</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Welcome to ManipulateAggregates’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-manipulateaggregates-s-documentation">
<h1>Welcome to ManipulateAggregates’s documentation!<a class="headerlink" href="#welcome-to-manipulateaggregates-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>What you are currently viewing contains the documentation for
ManipulateAggregates, a set of Python scripts written to perform some tasks
related to what I did during my time as a PhD student that will be detailed in
this documentation. For any license-related information, please see the file
called COPYING and the header of each individual <cite>*.py</cite> file.</p>
<p>The module ManipulateAggregates consists of four submodules and three
executables (<cite>manipagg</cite>, <cite>energyscan</cite>, and <cite>hashsort</cite>). The following is a list
of all all four submodules (in alphabetical order) including a synopsis of the
functionality they provide.</p>
<ol class="arabic">
<li><dl>
<dt>collection:</dt><dd><ul>
<li><dl class="simple">
<dt>read and write several file formats used in computational chemistry:</dt><dd><ul class="simple">
<li><p>geometry: cube, molden, xyz</p></li>
<li><p>orbital data: molden</p></li>
<li><p>volumetric data: cube, dx, xyz</p></li>
<li><p>frequencies: aims, terachem</p></li>
<li><p>easily accessible via <cite>manipagg</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>control OpenGL from Python:</dt><dd><ul class="simple">
<li><p>draw (coloured) spheres and trimeshes</p></li>
<li><p>export to pov-file to render with PoVRay</p></li>
<li><p>easily accessible via <cite>manipagg</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><p>prefix file names by auto-generated hashes to limit the number of files
per directory (huge speed-ups for some file systems)</p>
<blockquote>
<div><ul class="simple">
<li><p>used by <cite>energyscan</cite> and <cite>hashsort</cite></p></li>
</ul>
</div></blockquote>
</li>
<li><p>read section-less Python config files (with defaults and type checks)</p>
<blockquote>
<div><ul class="simple">
<li><p>used by <cite>energyscan</cite></p></li>
</ul>
</div></blockquote>
</li>
<li><p>most file types can also be read and written when gzipped</p></li>
<li><p>control gnuplot from Python</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>energyscan:</dt><dd><ul>
<li><p>easily accessible via <cite>energyscan</cite></p></li>
<li><p>estimate energetically favourable aggregate (dimers and higher ones)
geometries in a three-step procedure:</p>
<blockquote>
<div><ol class="arabic">
<li><p>create a huge number of aggregates:</p>
<blockquote>
<div><ul class="simple">
<li><p>Keep a central molecule fixed and</p></li>
<li><p>move another molecule around the central one (varying
orientations) and</p></li>
<li><p>evaluate energy for every aggregate created (so far: using force
fields).</p></li>
<li><p>molecules can be replaced by entire aggregates</p></li>
</ul>
</div></blockquote>
</li>
<li><p>search for local energy minima among the aggregates created in the
previous step</p></li>
<li><p>screen all of those local energy minimum structures to obtain a
highly diverse set</p></li>
</ol>
</div></blockquote>
</li>
<li><p>requires <a class="reference external" href="https://github.com/razziel89/MaAg-bel">MaAg-bel</a></p></li>
<li><p>requires <a class="reference external" href="https://github.com/razziel89/libfiredeamon">FireDeamon</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>aggregate:</dt><dd><ul>
<li><p>easily accessible via <cite>manipagg</cite></p></li>
<li><p>manipulate (internal) degrees of freedom of molecules and aggregates</p></li>
<li><p>(compute and) visualize distributions of electrostatic potentials and
electron densities</p>
<blockquote>
<div><ul>
<li><p>empirical methods supported via <a class="reference external" href="https://github.com/razziel89/MaAg-bel">MaAg-bel</a></p></li>
<li><p>methods based on results from ab-initio computations supported via
<a class="reference external" href="https://github.com/razziel89/libfiredeamon">FireDeamon</a></p></li>
<li><p>live visualization using OpenGL</p></li>
<li><p>high-quality visualization using PoVRay</p></li>
<li><p>support for volumetric distributions</p></li>
<li><p>support for distributions on surfaces:</p>
<blockquote>
<div><ul class="simple">
<li><p>isosurfaces through volumetric data</p></li>
<li><p>(scaled) van-der-Waals surfaces around molecules</p></li>
<li><p>arbitrarily high degrees of discretization supported</p></li>
</ul>
</div></blockquote>
</li>
<li><p>computations require the submodule orbitalcharacter</p></li>
<li><p>example image for electrostatic potential below</p></li>
</ul>
</div></blockquote>
</li>
<li><p>estimate a molecule’s HLB value</p></li>
<li><p>support for all file types supported by OpenBabel</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>orbitalcharacter:</dt><dd><ul>
<li><p>compute electrostatic potentials and electron densities from quantum
chemical orbitals</p>
<blockquote>
<div><ul class="simple">
<li><p>corrections for the limited precision of the input data can be applied</p></li>
<li><p>computations can be restricted to use only some of the available
orbitals</p></li>
<li><p>easily accessible via <cite>manipagg</cite></p></li>
</ul>
</div></blockquote>
</li>
<li><p>estimate the character of an orbital by comparison with orbitals of known
character</p></li>
<li><p>much of the functionality provided within the submodule orbitalcharacter
can be sped up when using the C++-library <a class="reference external" href="https://github.com/razziel89/libfiredeamon">FireDeamon</a></p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>Example image for the electrostatic potential on a van-der-Waals surface,
quantum chemical data obtained with <a class="reference external" href="http://petachem.com">TeraChem</a> and rendered by <a class="reference external" href="http://www.povray.org/">PoVRay</a>:</p>
<div class="figure align-default">
<img alt="_images/example_vdw_pot.png" src="_images/example_vdw_pot.png" />
</div>
</div>
<div class="section" id="prerequisites">
<h1>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>You need the following dependencies to use this package:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Python:</dt><dd><ul>
<li><p><a class="reference external" href="https://www.anaconda.com/">Anaconda</a>-based virtual environments highly recommended</p></li>
<li><p>including the pip package manager</p></li>
<li><p>including the packages setuptools and wheel</p></li>
<li><p>tested with version 3.8 but older versions likely work</p></li>
<li><p>Python 2 working as of 2020, but no efforts are undertaken to stay
compatible</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>If you want all the functionality specified above, you also need:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://github.com/razziel89/MaAg-bel">MaAg-bel</a> (modified version of Open Babel)</p></li>
<li><p><a class="reference external" href="https://github.com/razziel89/libfiredeamon">FireDeamon</a></p></li>
</ul>
</dd>
<dt>They in turn have some more dependencies, namely:</dt><dd><ul class="simple">
<li><p>OpenGL</p></li>
<li><p>NumPy</p></li>
<li><p>CGAL</p></li>
<li><p>GMP</p></li>
<li><p>MPFR</p></li>
<li><p>SWIG</p></li>
<li><p>Eigen3</p></li>
<li><p>pthreads</p></li>
<li><p>OpenGL development packages</p></li>
<li><p>a somewhat recent C++ compiler (C++ 14 must be supported)</p></li>
</ul>
</dd>
<dt>There are more completely optional dependencies:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="http://www.povray.org/">PoVRay</a></p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>With Anaconda on Ubuntu, you can easily install them by doing the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install system packages</span>
sudo apt-get install libcgal-dev libmpfr-dev libgmp-dev freeglut3 libglu1-mesa-dev
<span class="c1"># If you want to render using PoVRay, run (this is entirely optional):</span>
sudo apt-get intall povray
<span class="c1"># Activate your conda environment</span>
conda activate &lt;environment&gt;
<span class="c1"># You could also install and activate a new environment like this:</span>
<span class="c1">#   conda create -n manipagg python=3 numpy swig eigen pyopengl \</span>
<span class="c1">#   &amp;&amp; conda activate manipagg</span>
<span class="c1"># Install conda packages</span>
conda install numpy swig eigen pyopengl
<span class="c1"># Install ManipulateAggregates and its dependencies</span>
pip install ManipulateAggregates
</pre></div>
</div>
<p>Some environment variables can modify the installation process of <a class="reference external" href="https://github.com/razziel89/libfiredeamon">FireDeamon</a>.
By default, everything is installed. Important environment variables are:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>MAINST_EIGEN3_DIR</cite> : set to a non-standard path to the Eigen3 include
directory. If not set, the setup tries to find the path automatically.</p></li>
<li><p><cite>MAINST_EIGEN3_PREFER_SYSTEM</cite> : when not specifying <cite>MAINST_EIGEN3_DIR</cite>,
set this to <cite>1</cite> in order to prefer a system-wide installation of Eigen3
over a conda installtion, which is preferred otherwise. There is no
guarantee that a system-wide installation will be found and the conda
installation should be preferred.</p></li>
<li><p><cite>FDINST_FULL_VIS_SUPPORT</cite> : if this variable is not <cite>1</cite> (<cite>1</cite> is the
default), visualization will employ the pyopengl package to interact with
OpenGL, which is only imported on demand. Effectively, this removes
<cite>libGL.so</cite> as a hard dependency. Thus, you no longer need the system
packages <cite>freeglut3</cite> and <cite>libglu1-mesa-dev</cite> and the conda package
<cite>pyopengl</cite>.</p></li>
<li><p><cite>FDINST_FULL_SURFACE_SUPPORT</cite> : if this variable is not <cite>1</cite> (<cite>1</cite> is the
default), the bare minimum required to run the <cite>energyscan</cite> tool will be
installed. Parts of <cite>manipagg</cite> might also work but there are no
guarantees since <cite>manipagg</cite> has a lot more dependencies than <cite>energyscan</cite>.
This effectively removes CGAL as a dependency and thus the system packages
<cite>libcgal-dev</cite>, <cite>libmpfr-dev</cite>, and <cite>libgmp-dev</cite> are no longer needed.</p></li>
</ul>
</div></blockquote>
<p>If you have all the aforementioned dependencies installed and you environment
activated, simply run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install ManipulateAggregates
</pre></div>
</div>
</div>
<div class="section" id="the-manipagg-program">
<h1>The <cite>manipagg</cite> Program<a class="headerlink" href="#the-manipagg-program" title="Permalink to this headline">¶</a></h1>
<p>This script manipulates internal degrees of freedom of a molecule or aggregate.</p>
<p>The custom reduced version of OpenBabel (<a class="reference external" href="https://github.com/razziel89/MaAg">https://github.com/razziel89/MaAg</a>-bel) is
required. Supports all filetypes supported by that reduced version (you can run the
command <cite>manipagg --list formats</cite> to get a list). The default input filetype is guessed
from the extension. The output filetype is the input filetype by default. Much
functionality requires libFireDeamon (<a class="reference external" href="https://github.com/razziel89/libFireDeamon">https://github.com/razziel89/libFireDeamon</a>).</p>
<dl class="simple">
<dt>Usage (switches are positional, i.e., affect everything behind them):</dt><dd><p>manipagg [GEOMETRYFILE] [SWITCHES]</p>
</dd>
</dl>
<p>Some switches require a GEOMETRYFILE, some others don’t.</p>
<p>Mandatory options for long versions are mandatory for short versions, too. You can
separate switch and value by either space or the equals sign. A “#” following a swich
means it requires a number of parameters separated by spaces. E.g., --switch #2 means
that this switch requires 2 arguments which must be separated by any number of spaces &gt;0.
The symbol “[#X]” means that X parameters are optional but if the first is given, all the
others have to be given, too.</p>
<p>Please note that parameters starting with dashes are fine unless they are the same as an
option. In that case, you cannot use it.</p>
<div class="section" id="command-line-switches">
<h2>Command line switches:<a class="headerlink" href="#command-line-switches" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>--help|-h</dt><dd><p>Print this help and exit</p>
</dd>
<dt>--render-help</dt><dd><p>See more detailed help about automatically rendering a visualization</p>
</dd>
<dt>--pot-help</dt><dd><p>See more detailed help about how to define an electrostatic potential
and how to obtain it</p>
</dd>
<dt>--vis-help</dt><dd><p>See more detailed help about how to modify visualizations</p>
</dd>
<dt>--manip-help</dt><dd><p>See more detailed help about how to manipulate a geometry</p>
</dd>
<dt>--aux-help</dt><dd><p>See information about some auxilliary switches.</p>
</dd>
<dt>--full-help</dt><dd><p>See all help texts (useful for grep’ing for switches)</p>
</dd>
<dt>--ff</dt><dd><p>#1 Declare force field to use (“None” is also possible, switching
off everything that requires one) (default: mmff94)</p>
</dd>
<dt>--intype|-i</dt><dd><p>#1 Set the type of the input file (default: guess from filename)</p>
</dd>
<dt>--infile|-I</dt><dd><p>#1 Give the name of the input file (not required if the input file is the
first argument)</p>
</dd>
<dt>--outtype|-o</dt><dd><p>#1 Set the type of the output file (default: guess from filename)</p>
</dd>
<dt>--outfile|-O</dt><dd><p>#1 Set the name of the output file (default: do not output anything)</p>
</dd>
<dt>--conf</dt><dd><p>#1 Declare which conformer from a file that can contain
multiple conformers (such as the xyz-format) you wish to load</p>
</dd>
<dt>--list</dt><dd><p>[#1] List supported plugin options. To get a list of plugins, pass ‘plugins’
as argument to this switch or pass no argument</p>
</dd>
</dl>
</div>
<div class="section" id="more-information-about-geometry-manipulation-switches">
<h2>More information about geometry manipulation switches:<a class="headerlink" href="#more-information-about-geometry-manipulation-switches" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>--bond|-b</dt><dd><p>#1 Set the length of the bond defined by 2 atom indices to the desired
value in Anstroms, e.g., set the bond between atoms 1 and to to 5.5
Angstroms: 1,2=5.5 . If one atom is marked with a star (i.e. a
preceeding <cite>*</cite> without the tics) it will be kept fixed. Otherwise,
both atoms wil be moved halfway.</p>
</dd>
<dt>--angle|-a</dt><dd><p>#1 Set an angle defined by 3 atom indices to a desired value in degrees,
e.g., 1,2,3=90.5 .</p>
</dd>
<dt>--dihedral|-d</dt><dd><p>Set the dihedral angle defined by 4 atom indices to the desired value
in degrees. A cis configuration corresponds to 0 degrees, a trans
configuration to 180 degrees, e.g., 1,2,3,4=90</p>
</dd>
<dt>--get|-g</dt><dd><p>Instead of setting the desired internal degrees of freedom the script
outputs them (ignores all angle or bondlength values given, e.g.</p>
</dd>
<dt>--bond</dt><dd><p>1,2=5 would result in the bondlength defined by atoms 1 and 2
to be output and the 5 will be ignored.)</p>
</dd>
<dt>--set|-s</dt><dd><p>Unset --get for everything following --set</p>
</dd>
<dt>--write</dt><dd><p>Do an intermediate write out of the output file to the specified file.
Very handy if things should be done in succession</p>
</dd>
<dt>--tag</dt><dd><p>UNDOCUMENTED</p>
</dd>
<dt>--app</dt><dd><p>#1 Append the given second molecule to the current one. Uses the current
input file type. If options are given after --app and before --end,
they will be applied to the to-be-appended molecule.</p>
</dd>
<dt>--dup</dt><dd><p>Like --app, but it does not take an argument. Instead, the
current molecule is being duplicated. This switch also
requires a matching --end.</p>
</dd>
<dt>--end|--licate</dt><dd><p>Declare that no more actions are to applied to the to be appended
molecule. Both can be used with --app and --dup.</p>
</dd>
<dt>--gl</dt><dd><p>#1 Glue the given second molecule to the one given. Behaves just as</p>
</dd>
<dt>--app</dt><dd><p>with respect to --ue instead of --end.</p>
</dd>
<dt>--ue</dt><dd><p>#2 Declare that no more actions are to applied to the to be glued
molecule.  As arguments, give two pairs of indices as i1,i2 and
m1,m2. Those pairs declare pairs of atoms the bonds between which
are to be cut. Then, the molecules will be glued together and i1 and
m1 will remain in the molecule and i2 and m2 (and all atoms connected
to them) will be cleaved.</p>
</dd>
<dt>--translate|-t</dt><dd><p>#1 Translate the molecule by the given vector, e.g., --translate=1,0,0
would translate the molecule by 1 Angstrom in the x-direction</p>
</dd>
<dt>--rotate|-r</dt><dd><p>#1 Rotate the molecule arount the given axis by the given angle e.g.</p>
</dd>
<dt>--rotate=1,0,0=90</dt><dd><p>would rotate the molecule by 90 degrees around the
x-axis</p>
</dd>
<dt>--rotate-main</dt><dd><p>#1 Rotate the molecule around the given main axis, e.g.,</p>
</dd>
<dt>--rotate-main=1=90</dt><dd><p>would rotate the molecule by 90 degrees around its
first main axis</p>
</dd>
<dt>--mirror</dt><dd><p>#2 Mirror the molecule at a plane or a point (inversion). Declare the
normal vector first and a point in the plane next. If the former is
0,0,0, point inversion will be performed. Example: 1,0,0 0,0,0 would
mirror at the yz-plane and 0,0,0 0,0,0 would invert at the origin.</p>
</dd>
<dt>--mirror-center</dt><dd><p>#2 The same as --mirror, but perform all these actions after centering
to 0,0,0. It will be moved back to original center afterwards.</p>
</dd>
<dt>--align</dt><dd><p>#3 Align the molecule with its center to a given point and align the
third and second main axes to the two axes given e.g. --align 0,0,0
1,0,0 0,1,0 would align the molecule’s center to the origin and its
third/second main axis with the x/y-axis The third main axis is
usually the longest extent.</p>
</dd>
<dt>--part</dt><dd><p>[#1] Apply all subsequent manipulateions (translation, rotation, alignment,
mirroring) only to the specified covalently bound subunit (usually
a molecule). Counting starts at 0. Leave out options to switch back to
treating everyting together.</p>
</dd>
<dt>--cleave</dt><dd><p>#1 Cleave one part of a molecule by cutting a bond in half. That bond is
specified as an argument consisting of two indices separated by a
comma.</p>
</dd>
<dt>--optimize</dt><dd><p>#1 Perform a force-field optimization with the given number of steps
(default: 500)</p>
</dd>
<dt>--closer</dt><dd><p>#2 [#1] Move two parts of an aggregate closer together with respect to their
centers until a vdW-clash occurs. Give as ---move-closer p1,p2
s (f,a) See --closer-help for additional information.</p>
</dd>
<dt>--closer-vec</dt><dd><p>#3 [#1]
Move two parts of an aggregate closer together in the direction of
the vector given until a vdW-clash occurs or the distance between the
centers increases. Give as ---closer-vec p1,p2 v1,v2,v3 s (f,a) See</p>
</dd>
<dt>--closer-help</dt><dd><p>for additional information.</p>
</dd>
</dl>
</div>
<div class="section" id="more-information-about-switches-regarding-potentials-charges-and-densities">
<h2>More information about switches regarding potentials, charges and densities:<a class="headerlink" href="#more-information-about-switches-regarding-potentials-charges-and-densities" title="Permalink to this headline">¶</a></h2>
<p>Please note that --density only works together with --orbitals.</p>
<dl class="simple">
<dt>--charges</dt><dd><p>#1 Compute the potential from existing volumetric charge data</p>
</dd>
<dt>--empirical</dt><dd><p>#1 Compute the electrostatic potential from charges obtained via an
empirical method. You specify the method (see “obabel -L charges”).
Default is “mmff94”.</p>
</dd>
<dt>--inter</dt><dd><p>#1 [#3] Compute the potential by interpolating existing data.
You specify: M [C1 C2 C3]
- M is the interpolation method (“distance” or “nearest” for inverse
distance weighting or nearest neighbour interpolation (default))
- C1 is the expotential parameter
- C2 is the root
- C3 is the cutoff (negative value switches this off)
C2, C2 and C3 are only used for inverse distance weighting.</p>
</dd>
<dt>--orbitals</dt><dd><p>Compute the density or potential from molecular orbital data</p>
</dd>
<dt>--absolute</dt><dd><p>Charges at the atomic sites are absolute ones (opposite of --partial)</p>
</dd>
<dt>--partial</dt><dd><p>Charges at the atomic sites are partial ones (default)</p>
</dd>
<dt>--cube</dt><dd><p>#1 Specify a CUBE file as the input file for volumetric data</p>
</dd>
<dt>--cube-vis</dt><dd><p>#1 Specify a CUBE file as the input file for volumetric data (for isosurface
generation, overwrites a previous --cube for this purpose)</p>
</dd>
<dt>--dx</dt><dd><p>#1 Specify a DX file as the input file for volumetric data</p>
</dd>
<dt>--dx-vis</dt><dd><p>#1 Specify a DX file as the input file for volumetric data (for isosurface
generation, overwrites a previous --dx for this purpose)</p>
</dd>
<dt>--molden</dt><dd><p>#1 Specify a Molden file as the input file for orbital data</p>
</dd>
<dt>--xyz</dt><dd><p>#1 Specify a XYZ file as the input file for volumetric data. This type
of file has Cartesian coordinates in the first 3 columns followed by the
value at that point in space.</p>
</dd>
<dt>--density</dt><dd><p>The property to compute is the electron density. Only useful with --grid.</p>
</dd>
<dt>--potential</dt><dd><p>The property to compute is the electrostatic potential (default).</p>
</dd>
<dt>--grid</dt><dd><p>[#1] [#1]
Compute the specified property on a grid. You specify: P F
- P is the number of points in each of the 3 Cartesian directions for
the regular grid (default: 100)
- F is the file of type DX to which the data shall be saved (default:
potential.dx or density.dx depending on the property)</p>
</dd>
</dl>
</div>
<div class="section" id="more-information-about-visualization-switches">
<h2>More information about visualization switches:<a class="headerlink" href="#more-information-about-visualization-switches" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>--visualize-pot|--vp</dt><dd><p>#1 [#1] [#1]
Visualize the molecule and the potential on a van-der-Waals surface
using OpenGL, Python, libFireDeamon and CGAL. It will automatically
be aligned with its longest axis from right to left.
You specify: Z [R] [F1,F2]
- Z is a zoom factor (float)
- R is the number of refinement steps (int).
- F1 and F2 (floats) are the scaling factor and the shrink factor
for the skin-surface generation, respectively.</p>
</dd>
<dt>--visualize-iso|--vi</dt><dd><p>#2 [#1] [#1]
Like --visualize-pot, but plot the electrostatic potential on an isosurface
instead of a vdW surface.
You specify: Z I [L] [C]
- Z is a zoom factor (float)
- I is the iso value (default: 0.005)
- L is a comma-separated list of atom indices (ints) around which
the isosurface shall be built. Special values: all, noH, auto
(auto is the default)
- C is P1,P2,A,R:
- P1 is the first of CGAL’s surface mesh precisions (float)
- P2 is the second of CGAL’s surface mesh precisions (float)
- A is the minimum angle between surface facets (float)
- R is the relative surface mesh generation precision (float)</p>
</dd>
<dt>--visualize-simple|--vs</dt><dd><p>#1 [#1]
Visualize the molecule as spheres with corresponding
vdW-radii using OpenGL and Python.
You specify: Z S
- Z is a zoom factor (float)
- S is a scaling factor for the vdW spheres (float)</p>
</dd>
<dt>--window-title|--title</dt><dd><p>#1
Set the title of the visualization window, which is also the prefix
for images saved to disk.</p>
</dd>
<dt>--window-resolution|--resolution|--res</dt><dd><p>#1
Set the resolution of the visualization window as x,y (two ints).</p>
</dd>
<dt>--hide</dt><dd><p>Do not show the OpenGL window (useful for rendering a renderpath)</p>
</dd>
<dt>--swap-align</dt><dd><p>Usually, the molecule’s third main axis is aligned perpendicular to
the visualization plane, its second main axis is aligned to the
left-right direction and it’s center of mass is moved to the center
of the screen. This command suspends and re-enables this alignment
procedure (first occurence disables, second occurence enables, etc.)</p>
</dd>
<dt>--contrast</dt><dd><p>#1 By supplying “high” as a parameter (default), the color scale is:
blue (negative) - black (vanishing) - red (positive) for the
visualization of the electrostatic potential.
By supplying “low” as a parameter, the color scale is: red (negative)
- yellow (less negative) - green (vanishing) - turquoise (less
positive) - blue (positive) for the visualization of the
electrostatic potential.</p>
</dd>
<dt>--invert</dt><dd><p>Invert potential data no matter where it has been obtained from</p>
</dd>
<dt>--svgscale</dt><dd><p>#1 Save an SVG file with the given name that shows the color scale.</p>
</dd>
<dt>--save-vis</dt><dd><p>#2 When visualizing, save the visualization state. You specify: W F
- W is an arbitrary combination of the words start and end
stating whether you want the visualization state saved at the
beginning or the end, respectively. “None” turns that off.
- F is the name of the file to which to save the sate.
A prefix might be added.
Press comma during visualization to save additional visualization
states. Does not work for --visualize-simple.</p>
</dd>
<dt>--load-vis</dt><dd><p>#1 Load visualization data from the given file. Will also initiate
visualization.</p>
</dd>
<dt>--povray</dt><dd><p>#1 Declare an integer. If this integer is &gt;0, the resolution of an image
rendered using PoVRay will have this times the resolution of the
OpenGL window. If the integer is &lt;=0, support for PoVRay is switched
off (default: 1, &lt;=0 not recommended).</p>
</dd>
<dt>--povlight</dt><dd><p>#1 [#1]
Declare an axis (three comma-separated floats) and an angle
(in degrees) that define a rotation for all normal vectors
prior to PoVRay visualization. If the axis is “frontal”,
“front” or “straight”, illumination will happen directly
from the front. The default is to slightly rotate all
normal vectors as this looks nicer.</p>
</dd>
<dt>--refscale</dt><dd><p>#2 [#n] You provide: R D1 [D2] […]
- R is a Python regular expression that will be used to match
against files in the given directories
- D1 is a directory (as are all other DN)
The color scale of the potential plot will be adjusted so that all
scales, defined in the save files whose names match the regular
expression in the given directory, fall within the same overall scale
(to make them comparable). Incompatible with --colorscale.</p>
</dd>
<dt>--colorscale</dt><dd><p>#1 [#1]
You provide C1 [C2]:
- C1 is a special keyword (see below) or the float value used as
the lower end of the color scale
- C2 is the float value used as the upper end of the color scale
(ignored if C1 is a special keyword)
Special values are: “auto” (default), or “independent” (only first
letter checked), which causes the use of independent color scales for
positive and negative values.  The special value “dependent” (same as
independent) causes the use of the same color scale for positive and
negative values.</p>
</dd>
</dl>
</div>
<div class="section" id="auxilliary-switches-that-only-output-information">
<h2>Auxilliary switches that only output information:<a class="headerlink" href="#auxilliary-switches-that-only-output-information" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>--dipole-moment</dt><dd><p>#1 Output the molecule’s dipole moment as obtained from the
specified charge method. See “manipagg --list charges” for a list of
available methods</p>
</dd>
<dt>--energy</dt><dd><p>Output the energy of the molecule according to the current force
field</p>
</dd>
<dt>--rmsd</dt><dd><p>#1 Output RMSD between the current molecule and the given one as
well as the maximum difference in a single coordinate and for an
atom. This will use the currently defined intype and perform an
alignment beforehand to exclude influences from translation or
rotation.</p>
</dd>
<dt>--vdw-check</dt><dd><p>Output “True” if no two atoms from different molecules are closer
together than the sum of their vdW-radii and “False” otherwise</p>
</dd>
<dt>--spinmultiplicity</dt><dd><p>Output the molecule’s spinmultiplicity</p>
</dd>
<dt>--pbond|--pb</dt><dd><p>#2 Output the length of the bond defined by 2 atom indices in Angstroms
projected onto a given vector (2nd atgument).</p>
</dd>
<dt>--hlb</dt><dd><p>quick estimation of a molecule’s HLB value</p>
</dd>
<dt>--repickle</dt><dd><p>if a visualization state cannot be loaded, that migh tbe because the
state was saved in Python 2 and you try to load it using Python 3.
This will try to convert the state to a more compatible representation.
WARNING: the original file will be overwritten!</p>
</dd>
<dt>--pgroup|--pg</dt><dd><p>Print the point group of the given structure.</p>
</dd>
</dl>
</div>
<div class="section" id="help-text-for-the-renderpath-command">
<h2>Help text for the --renderpath command:<a class="headerlink" href="#help-text-for-the-renderpath-command" title="Permalink to this headline">¶</a></h2>
<p>The --renderpath command It takes one argument.</p>
<p>A renderpath tells the script how to manipulate the visualization of the given molecule.
All images that are rendered can be saved to disk.</p>
<p>A simple trajectory string looks as follows (spaces only to emphasize logical groups):</p>
<p>chain_of_commands | chain_of_values_separated_by_dashes / number_of_frames</p>
<p>The above can be repeated as often as desired if separated by commas. Apart from the
first command, each chain of commands has to follow a comma. You have to declare as many
values (separated by dashes) as you have declared commands.</p>
<dl>
<dt>Commands that can be chained:</dt><dd><p>r1+:    rotate positively around first axis</p>
<p>r1-:    rotate negatively around first axis</p>
<p>r2+:    rotate positively around second axis</p>
<p>r2-:    rotate negatively around second axis</p>
<p>r3+:    rotate positively around third axis</p>
<p>r3-:    rotate negatively around third axis</p>
<p>t1+:    translate positively along first axis</p>
<p>t1-:    translate negatively along first axis</p>
<p>t2+:    translate positively along second axis</p>
<p>t2-:    translate negatively along second axis</p>
<p>t3+:    translate positively along third axis</p>
<p>t3-:    translate negatively along third axis</p>
<p>z+:     increase zoom level (default zoom level: 10)</p>
<p>z-:     decrease zoom level (default zoom level: 10)</p>
</dd>
</dl>
<p>Special commands that do not take values or a number of frames and have to be the last
ones in the trajectory:</p>
<blockquote>
<div><p>n:      Do not save OpenGL images to disk</p>
<p>p:      Render every image via PoVRay</p>
<p>d:      Drop to an interactive view first where the user can rotate
the molecule using the keybord. After a press of ESC, the
path will be followed</p>
<p>s:      At each image, save the visualization state to disk. Requires --save-vis to
be set</p>
</div></blockquote>
<p>Values:</p>
<blockquote>
<div><p>rotation:    angles in degrees</p>
<p>translation: lengths in the unit given in the geometry file (usually Angstroms)</p>
<p>zoom:        change in zoom level</p>
</div></blockquote>
<p>Number of frames:</p>
<p>The number of frames during which the given change in visualization will
be performed. A linear mapping from change to frame number is applied.</p>
<p>Example:</p>
<p><cite>r1+r2-t3+z-|180-90-2-5/100,t1-z+|1-2/200,n,d</cite></p>
<p>First, the user will see the molecule and have the opportunity to change the view by
using the keyboard. After pressing ESC, the trajectory will start: In the first 100
frames, rotate around the first axis by 180° whilst rotating negatively around the second
axis by 90°, translating the molecule by 2 along the third axis and reducing the zoom
level by 5. In the next 200 frames, traslate negatively along the first axis by 1 whilst
increasing the zoom level by 2. None of the frames will be rendered to disk.</p>
</div>
<div class="section" id="help-text-for-the-closer-command-and-the-closer-vec-command">
<h2>Help text for the --closer command and the --closer-vec command:<a class="headerlink" href="#help-text-for-the-closer-command-and-the-closer-vec-command" title="Permalink to this headline">¶</a></h2>
<p>WARNING: if one geometry file that was read in contains multiple geometries, that has to
be considered!</p>
<dl class="simple">
<dt>--closer</dt><dd><p>#2 [#1] Move two parts of an aggregate closer together with respect to their
centers until a vdW-clash occurs. Give as ---move-closer p1,p2
s (f,a)</p>
</dd>
<dt>--closer-vec</dt><dd><p>#3 [#2]
Move two parts of an aggregate closer together in the direction of
the vector given until a vdW-clash occurs or the distance between the
centers increases. Give as ---closer-vec p1,p2 v1,v2,v3 s (f,a)</p>
</dd>
</dl>
<p>p1 and p2:</p>
<blockquote>
<div><p>indices, starting at 0, indicating the molecules in the aggregate that shall
be moved closer together.</p>
</div></blockquote>
<p>v1,v2,v3:</p>
<blockquote>
<div><p>components of the vector in which the first molecule shall be moved (will be
inverted for the second one).</p>
</div></blockquote>
<p>s:          stepsize for movement (good value: 0.2).</p>
<p>f:          factor by which all vdW-radii will be multiplied (default: 0.9).</p>
<p>a:          value that is added to all vdW-radii (default: 0.0).</p>
</div>
</div>
<div class="section" id="the-energyscan-program">
<h1>The <cite>energyscan</cite> Program<a class="headerlink" href="#the-energyscan-program" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>Usage:</dt><dd><p>energyscan [OPTIONS] CONFIGFILE1 [CONFIGFILE2] […]</p>
</dd>
</dl>
<p>Command line OPTIONS:</p>
<dl class="simple">
<dt>--help</dt><dd><p>print this message</p>
</dd>
<dt>--longhelp</dt><dd><p>print a long help message (which is also
the default config file). Comments in this
message explain the meanings</p>
</dd>
</dl>
<div class="section" id="default-config-file">
<h2>Default config file:<a class="headerlink" href="#default-config-file" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is an example config file that also tries to give some explanations about what</span>
<span class="c1"># all the parameters do.</span>
<span class="c1"># Use the program as &quot;energyscan CONFIGFILE1 [CONFIGFILE2] [...]</span>
<span class="c1"># Keywords are case-insensitive.</span>
<span class="c1"># All lines starting with # are comments and can be removed.</span>

<span class="c1"># ##VALUES NEEDED BY SEVERAL JOBTYPES AND GENERAL VALUES###</span>
<span class="c1"># declare the jobtype. NO DEFAULT SO IT MUST BE PROVIDED. Values are: scan, minimasearch</span>
<span class="c1"># May be a comma-separated list of jobtypes which will then be performed in sequence</span>
<span class="n">jobtype</span>         <span class="o">=</span> <span class="n">scan</span><span class="p">,</span><span class="n">minimasearch</span><span class="p">,</span><span class="n">similarityscreening</span>
<span class="c1"># declare the gridtype to be used. Possible values are:</span>
<span class="c1">#    full: a cubic spatial grid that is not truncated</span>
<span class="c1">#    half: a cubic spatial grid that can be truncated to only comprise half-spaces</span>
<span class="c1"># optional, default: full</span>
<span class="n">sp_gridtype</span>     <span class="o">=</span> <span class="n">full</span>
<span class="c1"># declare how many steps in the x,y and z directions shall be used for &quot;full&quot; and &quot;half&quot;</span>
<span class="c1"># grids. Note that for gridtype &quot;half&quot;, the actual extent of the grid is modified by the</span>
<span class="c1"># value for &quot;halfspace&quot;</span>
<span class="n">countsxyz</span>       <span class="o">=</span> <span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span>
<span class="c1"># declare the stepsize in x,y and z directions for &quot;full&quot; and &quot;half&quot; grids</span>
<span class="n">distxyz</span>         <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span>
<span class="c1"># declare whether the grid (only works for gridtypes &quot;full&quot; and &quot;half&quot; so far) shall</span>
<span class="c1"># automatically be adjusted to better fit the system at hand. Possible values are</span>
<span class="c1"># &quot;countsxyz&quot;, &quot;distxyz&quot;, &quot;none&quot; and empty depending on wether countsxyz or distxyz</span>
<span class="c1"># shall be adjusted or whether no adjustment shall be performed.  optional, default:</span>
<span class="c1"># EMPTY</span>
<span class="n">sp_autoadjust</span>   <span class="o">=</span>
<span class="c1"># declare the name of a file to which information about the grid shall be saved.</span>
<span class="c1"># optional, default: spgrid.dat</span>
<span class="n">sp_gridsave</span>     <span class="o">=</span> <span class="n">spgrid</span><span class="o">.</span><span class="n">dat</span>
<span class="c1"># for gridtype &quot;half&quot;, declare which half-spaces shall be used in x, y and z directions</span>
<span class="c1"># in the form of a vector of integers. A positive (negative) value indicates that the</span>
<span class="c1"># positive (negative) half-space shall be used. A value of 0 indicates that both halfs</span>
<span class="c1"># shall be used.  Hence, 0,0,0 is identical to gridtype &quot;full&quot;. Additionaly, to avoid</span>
<span class="c1"># border effects, a value of e.g. n or -n causes n additional points to be considered in</span>
<span class="c1"># the neglected half-space (this is handy when using nr_neighbours = auto) optional,</span>
<span class="c1"># default: 0,0,0</span>
<span class="n">halfspace</span>       <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="c1"># Whether or not to get progress reports during the calculation</span>
<span class="c1"># 0: suppress progress reports</span>
<span class="c1"># 1: print detailed progress reports during computation (SCAN: only works if</span>
<span class="c1">#    OMP_NUM_THREADS is 1 or not set)</span>
<span class="c1"># 2: print general progress reports (SCAN: whenever an angle was scanned, MINIMASEARCH:</span>
<span class="c1">#    whenever minima for one angle were determined)</span>
<span class="n">progress</span>        <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># If True, only perform checks for the given config file but do not perform any</span>
<span class="c1"># computations. optional, default: False</span>
<span class="n">config_check</span>    <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># which geometries to use for SCAN and SIMILARITYSCREENING. The default for geometry2 is</span>
<span class="c1"># to use the same geometry again (general variable replacement).</span>
<span class="n">geometry1</span>       <span class="o">=</span>
<span class="n">geometry2</span>       <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">geometry1</span><span class="p">)</span><span class="n">s</span>
<span class="c1"># whether or not you want to align the molecules with their center to 0,0,0 and their</span>
<span class="c1"># third/second main axis to the x/y-axis prior to any calculation. optional, default:</span>
<span class="c1"># True</span>
<span class="n">prealign</span>        <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># whether or not you want to have dxfiles written in gzipped format to save disk space.</span>
<span class="c1"># This will put more load on the processor when reading or writing. optional, default:</span>
<span class="c1"># False</span>
<span class="n">gzipped</span>         <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># IMPORTANT NOTICE: declare the exact same grid for a MINIMASEARCH jobtype that was used</span>
<span class="c1"># for a previous SCAN run!</span>

<span class="c1"># ##JOBTYPE SCAN###</span>
<span class="c1"># give I1/I2 (with I1 and I2 being integers and I2&gt;=I1). If not equal 1/1, this job is</span>
<span class="c1"># part of a split job and will only perform a certain subset (i.e., partition) of the</span>
<span class="c1"># scan (e.g. 1/5 would perform the first fifth, 2/5 the second fifth). An exception will</span>
<span class="c1"># be raised for any jobtype other than scan if this value is not 1/1.  optional,</span>
<span class="c1"># default: 1/1</span>
<span class="n">partition</span>       <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="c1"># declare the force field. Select one of: mmff94, ghemical, uff, gaff. optional,</span>
<span class="c1"># default: mmff94</span>
<span class="n">forcefield</span>      <span class="o">=</span> <span class="n">uff</span>
<span class="c1"># use a cubic angular grid that is not truncated. optional, default: full</span>
<span class="n">ang_gridtype</span>    <span class="o">=</span> <span class="n">full</span>
<span class="c1"># declare how many steps in the positive angular directions of the main axes shall be</span>
<span class="c1"># used</span>
<span class="n">countspos</span>       <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
<span class="c1"># declare how many steps in the negative angular directions of the main axes shall be</span>
<span class="c1"># used</span>
<span class="n">countsneg</span>       <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="c1"># declare the stepsize in the directions of the main axes</span>
<span class="n">dist</span>            <span class="o">=</span> <span class="mf">30.0</span><span class="p">,</span><span class="mf">30.0</span><span class="p">,</span><span class="mf">30.0</span>
<span class="c1"># if vdW surfaces are farther apart than this, do not evaluate the energy. optional,</span>
<span class="c1"># default: 100.0</span>
<span class="n">cutoff</span>          <span class="o">=</span> <span class="mf">100.0</span>
<span class="c1"># ignore if &lt;0.0 but if &gt;0.0, scale all vdw-radii by this value before trying to</span>
<span class="c1"># determine clashes. optional, default: -1.0</span>
<span class="n">vdw_scale</span>       <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
<span class="c1"># True if dx-files shall be saved. optional, default: True</span>
<span class="n">save_dx</span>         <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># how many columns shall be used in the dx file. optional, default: 3</span>
<span class="n">columns</span>         <span class="o">=</span> <span class="mi">3</span>
<span class="c1"># the name of the dx-files (will be prepended by number and underscore). optional,</span>
<span class="c1"># default: out.dx</span>
<span class="n">suffix</span>          <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">dx</span>
<span class="c1"># do you want the aligned structures to be saved? optional, default: True</span>
<span class="n">save_aligned</span>    <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># given the input geometryes, give the suffix for the aligned structures. optional,</span>
<span class="c1"># default: .aligned</span>
<span class="n">aligned_suffix</span>  <span class="o">=</span> <span class="o">.</span><span class="n">aligned</span>
<span class="c1"># prefix this to any minimum energy geometry that will be saved. optional, default:</span>
<span class="c1"># template_</span>
<span class="n">prefix</span>          <span class="o">=</span> <span class="n">template_</span>
<span class="c1"># do you want to save the global energy minima per angular arrangement? optional,</span>
<span class="c1"># default: True</span>
<span class="n">save_noopt</span>      <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># do you want to save the global energy minima per angular arrangement after performing</span>
<span class="c1"># a force field optimization? optional, default: False</span>
<span class="n">save_opt</span>        <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># steps for that force field optimization</span>
<span class="n">optsteps</span>        <span class="o">=</span> <span class="mi">500</span>
<span class="c1"># This value must be larger than any other energy value you expect (in units of the</span>
<span class="c1"># selected forcefield) since all filtered values will be set to this</span>
<span class="n">maxval</span>          <span class="o">=</span> <span class="mi">1000000000</span>
<span class="c1"># If True, after scanning all energies, set all values that are at least &#39;maxval&#39; to the</span>
<span class="c1"># true total maximum. optional, default: False</span>
<span class="n">correct</span>         <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># if True, will find the optimum angle for every spatial arrangement. optinal, default:</span>
<span class="c1"># False all values in sp_opt files are in the exact same order</span>
<span class="n">sp_opt</span>          <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># save the optimum energies to the following dx-file. optional, default: sp_opt.dx will</span>
<span class="c1"># be skipped if value None is given</span>
<span class="n">sp_opt_dx</span>       <span class="o">=</span> <span class="n">sp_opt</span><span class="o">.</span><span class="n">dx</span>
<span class="c1"># save the corresponding geometries to the following xyz-file. optional, default:</span>
<span class="c1"># sp_opt.xyz will be skipped if value None is given</span>
<span class="n">sp_opt_xyz</span>      <span class="o">=</span> <span class="n">sp_opt</span><span class="o">.</span><span class="n">xyz</span>
<span class="c1"># save the corresponding angles to the following csv file. optional, default:</span>
<span class="c1"># sp_opt_ang.csv will be skipped if value None is given</span>
<span class="n">sp_opt_ang</span>      <span class="o">=</span> <span class="n">sp_opt_ang</span><span class="o">.</span><span class="n">csv</span>
<span class="c1"># like correct, but for the spatial grid. optional, default: True</span>
<span class="n">sp_correct</span>      <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># do you want to remove such entries from sp_opt_ang and sp_opt_xyz where vdW clashes</span>
<span class="c1"># occured or where the molecules&#39; vdW surfaces were farther apart from each other than</span>
<span class="c1"># curoff?  If False, entries in the csv file that would be removed are given angles</span>
<span class="c1"># 360,360,360 and entries in the xyz file will show two completely overlapping</span>
<span class="c1"># molecules. optional, default: False</span>
<span class="n">sp_remove</span>       <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># do you want the global optimum to be saved to globalopt.xyz? optional, default: True</span>
<span class="n">globalopt</span>       <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># if this is a restarted scan, declare the directories (comma separated) where all</span>
<span class="c1"># previous data can be found. optional, default: EMPTY</span>
<span class="n">scan_restartdirs</span> <span class="o">=</span>
<span class="c1"># to limit the number of files per directory, this program uses the first letters of the</span>
<span class="c1"># hash of a dx-file&#39;s name to put it in subdirectories. Declare the hashing algorithm to</span>
<span class="c1"># be used (get a list of all supported ones via python -c &#39;import hashlib;print</span>
<span class="c1"># hashlib.algorithms;&#39;), string, optional ,default: md5</span>
<span class="n">hashalg</span>         <span class="o">=</span> <span class="n">md5</span>
<span class="c1"># declare how many hex-digits shall be used per directory level, optional, default: 2</span>
<span class="n">hashwidth</span>       <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># declare how many levels of directories shall be used for the hasing process, optional,</span>
<span class="c1"># default: 2</span>
<span class="n">hashdepth</span>       <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># ##JOBTYPE MINIMASEARCH###</span>
<span class="c1"># how to check whether two points on the grid are neighbours.</span>
<span class="c1"># Possible values (without quotes): &#39;eukledian&#39; (Eukledian metric),&#39;manhattan_single&#39;</span>
<span class="c1"># (Manhattan metric with one cutoff for all directions),&#39;manhattan_multiple&#39; (Manhattan</span>
<span class="c1"># metric with one cutoff for each direction) optional, default: manhattan_multiple</span>
<span class="n">neighbour_check_type</span> <span class="o">=</span> <span class="n">manhattan_multiple</span>
<span class="c1"># distance below which two points are considered neighbours. Must be &#39;float,float,float&#39;</span>
<span class="c1"># for &#39;manhattan_multiple&#39; and float otherwise. The special value &#39;auto&#39;, which also</span>
<span class="c1"># considers auto-adjustments of the spatial grid, is only supported for</span>
<span class="c1"># &#39;manhattan_multiple&#39; and grids &#39;full&#39; or &#39;half&#39;. optional, default: &#39;auto&#39;</span>
<span class="n">distance_cutoff</span> <span class="o">=</span> <span class="n">auto</span>
<span class="c1"># a value by which the distance_cutoff will be scaled. That way, getting 2 shells of</span>
<span class="c1"># neighbours is as easy as setting this value to something slightly greater than 2.</span>
<span class="c1"># optional, default: 1.1</span>
<span class="n">cutoff_scale</span>    <span class="o">=</span> <span class="mf">1.1</span>
<span class="c1"># Whether to compute and how to sort the depth-values of the minima. optional, default:</span>
<span class="c1"># 1 Depth values are unused as of now, so you can as well declare a value of 0 0: switch</span>
<span class="c1"># off sorting and do not determine depths of minima 1: depths is equal to the difference</span>
<span class="c1"># of the value at the minimum and the average of all neighbours 2: depths is equal to</span>
<span class="c1"># the difference of the value at the minimum and the minimum of all neighbours</span>
<span class="n">depths_sort</span>     <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># the minimum value that the volumetric data has to be lower than that of all its</span>
<span class="c1"># neighbours to be considered a minimum (may also be negative). optional, default: 0.0</span>
<span class="n">degeneration</span>    <span class="o">=</span> <span class="mf">0.0</span>
<span class="c1"># how many neighbours do you want to search per gridpoint. optional, default: auto</span>
<span class="c1"># (works only for &#39;manhattan_multiple&#39;)</span>
<span class="n">nr_neighbours</span>   <span class="o">=</span> <span class="n">auto</span>
<span class="c1"># how many neighbours do you expect a single point to have (at most). optional, default:</span>
<span class="c1"># nr_neighbours Greatly impacts performance, must be greater or equal nr_neighbours</span>
<span class="n">max_nr_neighbours</span> <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">nr_neighbours</span><span class="p">)</span><span class="n">s</span>
<span class="c1"># from where to take the volumetric data. optional, default: &#39;from_scan,.&#39; Possible</span>
<span class="c1"># values:</span>
<span class="c1">#</span>
<span class="c1"># from_scan: take those dx-files that a jobtype of type scan would create if it had this</span>
<span class="c1">#     config file (with adjusted jobtype).  I.e. &#39;from_scan,DIR&#39; would take all dx-files</span>
<span class="c1">#     created by a scan in the directory DIR. &quot;.&quot; matches the current directory.  This</span>
<span class="c1">#     option respects the value of &#39;scan_restartdirs&#39; and will also use those dx-files.</span>
<span class="c1">#</span>
<span class="c1"># dir_regex: take those dx-files that match the given regular expression. They will be</span>
<span class="c1">#     sorted by the first integer number in the name. I.e.</span>
<span class="c1">#     &#39;dir_regex,/home/test/dir,\\.dx$&#39; would match everything ending on &quot;.dx&quot; in</span>
<span class="c1">#     &quot;/home/test/dir&quot;.  Please double backslashes. The regular expression and DIR must</span>
<span class="c1">#     not contain commas.</span>
<span class="n">volumetric_data</span>   <span class="o">=</span> <span class="n">from_scan</span><span class="p">,</span><span class="o">.</span>
<span class="c1"># declare the file to which the data about the minima shall be saved. If ending in &#39;.gz&#39;</span>
<span class="c1"># (without quotes), it will be be gzipped. optional, default: minima.dat</span>
<span class="n">minima_file_save</span>  <span class="o">=</span> <span class="n">minima</span><span class="o">.</span><span class="n">dat</span>
<span class="c1"># have the worker processes wait for the main processes after they finished their jobs</span>
<span class="c1"># for the declared number of angular arrangements. This allows the main process to keep</span>
<span class="c1"># up in cases where the worker processes are too fast. Try decreasing this if the main</span>
<span class="c1"># process shows too-high memory usage. optional, default: 100</span>
<span class="n">pool_chunksize</span>    <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># ##JOBTYPE SIMILARITYSCREENING###</span>
<span class="c1"># from where to take the data about the minima that were found. If ending in &#39;.gz&#39;</span>
<span class="c1"># (without quotes), it will be considered to be gzipped. optional, default: same as</span>
<span class="c1"># minima_file_save</span>
<span class="n">minima_file_load</span>  <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">minima_file_save</span><span class="p">)</span><span class="n">s</span>
<span class="c1"># how many geometries the user wants at least. Those geometries are as diverse as</span>
<span class="c1"># possible in their geometries.  Will try to find the number closest to the given one,</span>
<span class="c1"># but you might also get fewer depending on the cutoffs for RMSD and energy.</span>
<span class="n">nr_geometries</span>     <span class="o">=</span> <span class="mi">10</span>
<span class="c1"># the maximum RMSD-cutoff for SIMILARITYSCREENING.</span>
<span class="n">rmsd_min</span>          <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># starting from rmsd_max, increase the RMSD-cutoff by this value until fewer than</span>
<span class="c1"># nr_geometries were found.  Suppose that one is called rmsd_max, return the geometries</span>
<span class="c1"># for rmsd_max minus rmsd_step.</span>
<span class="n">rmsd_step</span>         <span class="o">=</span> <span class="mf">0.5</span>
<span class="c1"># only consider geometries whose energy is closer to that of the global minimum geometry</span>
<span class="c1"># for the screenig.  A negative value switches off screening by energy. This value is</span>
<span class="c1"># given in meV (milli electron volts).  optional, default: -100</span>
<span class="n">energy_cutoff</span>     <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="c1"># whether or not to use the given energy cutoff in force field units (differs with force</span>
<span class="c1"># field). optional, default: False</span>
<span class="n">use_ff_units</span>      <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># declare the xyz-file to which all geometries shall be saved that passed the screening</span>
<span class="c1"># by RMSD and possibly energy. optional, default screened.xyz</span>
<span class="n">screened_xyz</span>      <span class="o">=</span> <span class="n">screened</span><span class="o">.</span><span class="n">xyz</span>
<span class="c1"># declare how many decimal places shall be used when screening for symmetry equivalence.</span>
<span class="c1"># A value smaller than 0 turns off this behaviour. optional, default: 2 (highly</span>
<span class="c1"># recommended, decrease if you get duplicates)</span>
<span class="n">symprec</span>           <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># whether or not to align the obtained conformers after the simmilarity screening.</span>
<span class="c1"># optional, default: True</span>
<span class="n">postalign</span>         <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># declare the maximum number of screening steps that are to be performed (to aviod</span>
<span class="c1"># infinite loops).  optional, default: 500</span>
<span class="n">maxscreensteps</span>    <span class="o">=</span> <span class="mi">500</span>
<span class="c1"># whether or not to determine (and possibly screen by) pointgroups of the conformers.</span>
<span class="c1"># optional, default: False</span>
<span class="n">pointgroups</span>       <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># whether or not to include subgroups. If True, a conformer with a higher symmetry is</span>
<span class="c1"># also considered to be part of all pointgroups that are subgroups of the determined</span>
<span class="c1"># pointgroups (e.g., C4 conformers would also belong to the C2 pointgroup). optional,</span>
<span class="c1"># default: False</span>
<span class="n">subgroups</span>         <span class="o">=</span> <span class="kc">False</span>
<span class="c1"># whether or not to always exclude the C1 pointgroup. optional, default: True</span>
<span class="n">exclude_c1</span>        <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># after which similarity screening step to perform the determination of pointgroups. The</span>
<span class="c1"># special keywords &quot;first&quot; and &quot;last&quot; are accepted. Otherwise, an integer &gt;=0 must be</span>
<span class="c1"># provided. optional, default: first</span>
<span class="n">pgstep</span>            <span class="o">=</span> <span class="n">first</span>
<span class="c1"># if True, save all conformers to separate files depending on their pointgroups (see</span>
<span class="c1"># &quot;pgfile&quot; suffixed with the pointgroup name). If False, perform only screening by</span>
<span class="c1"># pointgroup (based on pgregex). If pgregex is not given and this is False, the</span>
<span class="c1"># pointgroup determination is skipped. optional, default: True</span>
<span class="n">pgwrite</span>           <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># declare the prefix for the xyz files to which to save the conformers belonging to the</span>
<span class="c1"># pointgroups. If the given value already ends on a known extension, this will be</span>
<span class="c1"># removed prior to suffixing.</span>
<span class="n">pgfile</span>            <span class="o">=</span> <span class="o">%</span><span class="p">(</span><span class="n">geometry1</span><span class="p">)</span><span class="n">s</span>
<span class="c1"># declare a Python regular expression. All pointgroups whose name is not matched by this</span>
<span class="c1"># regular expression are screened. Beware: you must double backslashes! If, for</span>
<span class="c1"># instance, you want to exclude everything but C2, use &quot;^(?!C2$)&quot; (without quotes). If</span>
<span class="c1"># you want to exclude all pointgroups starting with D, use &quot;^(?!D.*$)&quot; optional,</span>
<span class="c1"># default: EMPTY (matches everything, i.e., no screening, BEWARE the value of</span>
<span class="c1"># exclude_c1)</span>
<span class="n">pgregex</span>           <span class="o">=</span>
<span class="c1"># declare a comma-separated list of indices (counting starts at 1) that indicate</span>
<span class="c1"># hydrogens that shall not be discarded during the similarity screening (i.e.,</span>
<span class="c1"># computation of RMSD, determination of equivalence). optional, default: EMPTY (i.e.,</span>
<span class="c1"># there are no important hydrogens)</span>
<span class="n">consider_h1</span>       <span class="o">=</span>
<span class="c1"># the same as the above for the second molecule. If the special value &quot;SAME&quot; is given</span>
<span class="c1"># and geometry1 is equal to geometry2, the same indices will be used for the second</span>
<span class="c1"># molecule. An error will be raised if geometry1 is unequal geometry2, consider_h1 is</span>
<span class="c1"># not empty and consider_h2 is &quot;SAME&quot;.</span>
<span class="n">consider_h2</span>       <span class="o">=</span> <span class="n">SAME</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-ManipulateAggregates">
<span id="the-python-package"></span><h1>The Python Package<a class="headerlink" href="#module-ManipulateAggregates" title="Permalink to this headline">¶</a></h1>
<p>The top-level module ManipulateAggregates.</p>
<p>Please refer to the submodules’ documentations for more details.</p>
<dl class="simple">
<dt>Submodules:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>collection:</dt><dd><p>read and write several file formats used in computational chemistry,
control OpenGL from Python energyscan: estimate energetically
favourable aggregate (dimers and higher ones) geometries in a
three-step procedure</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>aggregate:</dt><dd><p>manipulate (internal) degrees of freedom of molecules and aggregates
and visualize distributions of electrostatic potentials and electron
densities</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>orbitalcharacter:</dt><dd><p>compute electrostatic potentials and electron densities from quantum
chemical orbitals</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<div class="section" id="module-ManipulateAggregates.aggregate">
<span id="aggregate"></span><h2>Aggregate<a class="headerlink" href="#module-ManipulateAggregates.aggregate" title="Permalink to this headline">¶</a></h2>
<p>Definitions of the agg class and some auxilliary function.</p>
<p>If an external module cannot be imported, all the functionality that does not
require this module is still supported.</p>
<dl class="exception">
<dt id="ManipulateAggregates.aggregate.FiletypeException">
<em class="property">exception </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">FiletypeException</code><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#FiletypeException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.FiletypeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if an auto-determined file type is unknown.</p>
</dd></dl>

<dl class="exception">
<dt id="ManipulateAggregates.aggregate.ManipulateMoleculesError">
<em class="property">exception </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">ManipulateMoleculesError</code><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#ManipulateMoleculesError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.ManipulateMoleculesError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base error class</p>
</dd></dl>

<dl class="exception">
<dt id="ManipulateAggregates.aggregate.MissingModuleError">
<em class="property">exception </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">MissingModuleError</code><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#MissingModuleError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.MissingModuleError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a required module could not be imported.</p>
</dd></dl>

<dl class="exception">
<dt id="ManipulateAggregates.aggregate.OpenBabelError">
<em class="property">exception </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">OpenBabelError</code><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#OpenBabelError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.OpenBabelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a computation in OpenBabel failed.</p>
</dd></dl>

<dl class="class">
<dt id="ManipulateAggregates.aggregate.agg">
<em class="property">class </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">agg</code><span class="sig-paren">(</span><em class="sig-param">obmol</em>, <em class="sig-param">ff='mmff94'</em>, <em class="sig-param">info={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg" title="Permalink to this definition">¶</a></dt>
<dd><p>The agg class (agg stands for aggregate)</p>
<dl>
<dt>This class is:</dt><dd><ol class="arabic">
<li><p>a Python wrapper for the OBAggregate class of the modified OpenBabel
version providing pythonic methods that are not very easy to use via
OpenBabel’s language bindings</p></li>
<li><p>an extension to the above in the sense that, by interfacing with the other
submodules of ManipulateAggregates, additional functionality is provided,
such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>estimation of the HLB value</p></li>
<li><p>visualization of an electrostatic potential on a molecular surface</p></li>
</ul>
</div></blockquote>
</li>
<li><p>the base class used for the aggregate geometry estimation implemented in
the submodule ManipulateAggregates.energyscan</p></li>
</ol>
</dd>
</dl>
<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.obmol">
<code class="sig-name descname">obmol</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.obmol" title="Permalink to this definition">¶</a></dt>
<dd><p>(of type OBAggregate) the underlying OpenBabel data structure</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.info">
<code class="sig-name descname">info</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.info" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) contains information about the file this object was created
from</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.vs">
<code class="sig-name descname">vs</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.vs" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) contains information about desired visualizations and surface
generation</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.cp">
<code class="sig-name descname">cp</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) contains information about how to obtain this molecule’s
charges and potentials</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.__internal__">
<code class="sig-name descname">__internal__</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.__internal__" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) internal data, not for direct use</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.ff">
<code class="sig-name descname">ff</code><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.ff" title="Permalink to this definition">¶</a></dt>
<dd><p>(OBForceField) the underlying OpenBabel force field data structure</p>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.align">
<code class="sig-name descname">align</code><span class="sig-paren">(</span><em class="sig-param">point</em>, <em class="sig-param">main3</em>, <em class="sig-param">main2</em>, <em class="sig-param">part=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Align an aggregate in space.</p>
<p>Align the last two main axes of an aggregate to the two given axes and
move the center to the given coordinate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>point</strong> – (list of 3 floats) the new center of the molecule (not mass weighed)</p></li>
<li><p><strong>main3</strong> – (list of 3 floats) the new 3rd main axis (usually the longest extent)</p></li>
<li><p><strong>main2</strong> – (list of 3 floats) the new 2nd main axis</p></li>
<li><p><strong>part</strong> – (None or int&gt;=0) if an integer is provided, only treat that
part. Please see ManipulateAggregates.aggregate.agg.tag_parts
for a definition of “part”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">agg, vector=[0, 0, 0], axis=[1, 0, 0], angle=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a molecule to the current one.</p>
<p>“Appending” means that all the atoms and bonds contained within agg
are added (deep-dopied, i.e., you can detele agg afterwards) to the
current molecule. No new bonds are formed. Before appending, translate
and rotate agg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg</strong> – aggregate to be appended (of the same type)</p></li>
<li><p><strong>vector</strong> – (list of 3 floats) translate agg by this vector prior to appending</p></li>
<li><p><strong>axis</strong> – (list of 3 floats) rotate agg around this axis prior to appending it</p></li>
<li><p><strong>angle</strong> – (float) the angle for the rotation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.cleave">
<code class="sig-name descname">cleave</code><span class="sig-paren">(</span><em class="sig-param">i1</em>, <em class="sig-param">i2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.cleave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.cleave" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleave a part of a molecule.</p>
<p>Cleave all atoms and bonds that are connected to the atom indexed by
i2 but not to i1. Leave the rest as it is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i1</strong> – (int) index specifying the atom of the molecule that
will be retained</p></li>
<li><p><strong>i2</strong> – (int) index specifying the atom of the molecule that
will not be retained</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.default_cp">
<code class="sig-name descname">default_cp</code><em class="property"> = {'chargefile': '', 'chargefiletype': 'xyz', 'cutoff': 7.0, 'int_exponent': 3, 'int_root': 2, 'interpolation': 'nearest', 'invert_potential': False, 'method': 'mmff94', 'orbfile': '', 'orbfiletype': 'molden', 'partial': True, 'potfile': '', 'potfiletype': 'dx', 'property': 'potential', 'total_charge': 0, 'type': 'empirical'}</em><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.default_cp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.aggregate.agg.default_vs">
<code class="sig-name descname">default_vs</code><em class="property"> = {'align': True, 'align_center': [0.0, 0.0, 0.0], 'align_main2': [0.0, 1.0, 0.0], 'align_main3': [1.0, 0.0, 0.0], 'colorscale': 'independent', 'hide': False, 'high_contrast': True, 'iso_atoms': 'auto', 'isofile': '', 'isofiletype': 'dx', 'isovalue': 0.005, 'mesh_criteria': [5.0, 0.2, 0.2], 'povray': 1, 'refine': 1, 'rel_precision': 1e-06, 'renderpath': None, 'resolution': (1024, 768), 'saveend': False, 'savefile': None, 'savestart': False, 'shrink_factor': 0.95, 'svgscale': None, 'title': 'Molecule Visualization', 'type': 'simple', 'vdw_scale': 1.0, 'visrotmat': ([-1, 1, 0], 45), 'zoom': 1.0}</em><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.default_vs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.duplicate">
<code class="sig-name descname">duplicate</code><span class="sig-paren">(</span><em class="sig-param">read_file=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.duplicate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.duplicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate myself or re-read the original file.</p>
<p>Please be aware that the constructor is called again. The __internal__
dictionary is only shallowly copied, all the others are deep copies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>read_file</strong> – (bool) if True, the original file is read in
again instead of duplicating the molecule as it is.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object of ManipulateAggregates.aggregate.agg</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_align_matrix">
<code class="sig-name descname">get_align_matrix</code><span class="sig-paren">(</span><em class="sig-param">main3</em>, <em class="sig-param">main2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_align_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_align_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a matrix to align the aggregate.</p>
<p>Return the composite rotation matrix that would align the third and
second main axes to the given axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main3</strong> – (list of 3 floats) the new 3rd main axis (usually the longest extent)</p></li>
<li><p><strong>main2</strong> – (list of 3 floats) the new 2nd main axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy array of shape (3,3) and dtype float, the rotation matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_angle">
<code class="sig-name descname">get_angle</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">idx3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the bond angle in deg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the angle</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the angle</p></li>
<li><p><strong>idx3</strong> – (int) number of third atom that defines the angle</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the angle defined by the three atoms in degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_bond_map">
<code class="sig-name descname">get_bond_map</code><span class="sig-paren">(</span><em class="sig-param">unique=True</em>, <em class="sig-param">no_hydrogen=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_bond_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_bond_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a list of all bonds in a molecule as known by the current force field.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of tuples fo 2 ints, the atom indices associated with the bonds</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>unique</strong> – (bool) if True, give back an irreducible list of bonds in the form
of tuples of indices.  If False, give back a complete list of bonds, i.e.
every atom in a bond is once the first and once the second element in one of
the tuples</p></li>
<li><p><strong>no_hydrogen</strong> – (bool) whether or not to exclude hydrogens from the list</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_bondlength">
<code class="sig-name descname">get_bondlength</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">projection=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_bondlength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_bondlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the length of a bond.</p>
<p>There does not actually have to be a bond between the given atoms. If
projection is not None, the bond will be projected onto the given
vector and the length of that projection will be given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the bond</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the bond</p></li>
<li><p><strong>projection</strong> – (list of 3 floats) projection vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(possibly projected) bond length</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_center">
<code class="sig-name descname">get_center</code><span class="sig-paren">(</span><em class="sig-param">mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the non-mass-weighted center of the molecule</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of 3 floats, the Cartesian coordinates of the center</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_charges">
<code class="sig-name descname">get_charges</code><span class="sig-paren">(</span><em class="sig-param">ecp=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_charges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_charges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all charges of the atoms according to ther element numbers.</p>
<p>This function respects the atom property “ecp” that might be stored in
each of the OBAtom objects, if ecp is True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ecp</strong> – (bool) whether or not to respect the core charge property</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of floats containing the elemental charges (possibly minus core charges).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_colours">
<code class="sig-name descname">get_colours</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_colours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_colours" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of colors associated with the element symbols of the atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of tuples of 3 floats, RGB values</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_coordinates">
<code class="sig-name descname">get_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the coordinates of all atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of lists of 3 floats, the Cartesian coordinates of the atoms</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_cp">
<code class="sig-name descname">get_cp</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an arbitrary configuration option of the dictionary that configures how charges and potentials are obtained.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – (string) the property whose value you want to get</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value associated with key or None if the key is not present</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_density">
<code class="sig-name descname">get_density</code><span class="sig-paren">(</span><em class="sig-param">points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute this aggregate’s electron density at the given coordinates.</p>
<p>This function checks whether the last call used the same configuration
as the previous one. If that is so, files are not read in again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> – (list of lists of 3 floats) the Cartesian coordinates at
which to compute the density</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy array of dtype float containing the density values at the
specified points</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_dihedral">
<code class="sig-name descname">get_dihedral</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">idx3</em>, <em class="sig-param">idx4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_dihedral"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_dihedral" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dihedral angle in deg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the dihedral angle</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the dihedral angle</p></li>
<li><p><strong>idx3</strong> – (int) number of third atom that defines the dihedral angle</p></li>
<li><p><strong>idx4</strong> – (int) number of fourth atom that defines the dihedral angle</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the dihedral angle defined by the four atoms in degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_dipole_moment">
<code class="sig-name descname">get_dipole_moment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_dipole_moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_dipole_moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an aggregate’s electric dipole moment from point charges.</p>
<p>The currently set method for obtaining partial charges will be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of 3 floats, the electric dipole vector</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_energy">
<code class="sig-name descname">get_energy</code><span class="sig-paren">(</span><em class="sig-param">unit='meV'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the energy associated with the current geometry for the current forcefield.</p>
<p>Units can be specified. Supported units are “kJ/mol”, “kcal/mol” and “meV”.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>energy in the specified units.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_iso_surface">
<code class="sig-name descname">get_iso_surface</code><span class="sig-paren">(</span><em class="sig-param">isovalue, isofile, isofiletype='dx', mesh_criteria=[5.0, 0.2, 0.2], relative_precision=1e-06, atoms='auto'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_iso_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_iso_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a discretized iso surface of the aggregate.</p>
<p>Do not call directly. Rather use ManipulateAggregates.aggregate.agg.get_surface
and set properties via ManipulateAggregates.aggregate.agg.set_vs beforehand.
Please see <a class="reference external" href="http://doc.cgal.org/latest/Surface_mesher/index.html">http://doc.cgal.org/latest/Surface_mesher/index.html</a> for
more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>isovalue</strong> – (float) the isovalue for the surface</p></li>
<li><p><strong>isofile</strong> – (string) path to the file from which to take the volumetric data</p></li>
<li><p><strong>isofiletype</strong> – (string) filetype of the volumetric data file. Only “dx” is
supported as of now. “cube” might be added later.</p></li>
<li><p><strong>mesh_criteria</strong> – (list of 3 floats) CGAL’s internal meshing criteria</p></li>
<li><p><strong>relative_precision</strong> – (float) CGAL’s internal precision for meshing</p></li>
<li><p><strong>atoms</strong> – (int, list of ints or “all” or “noH” or “auto”) CGAL’s mesh
generation requires a point inside the isosurface. For a
chemical compound, all atoms should lie within the isosurface.
For aggregates, this is not the case. Here, specofy at least
one atom of every covalently bound unit. The special values
“all” and “noH” select all atoms or only non-hydrogen atoms.
The special value “auto” automatically uses the first atom of
each covalently bound unit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple of corners,face_indices,normals. corners (a list of lists
of 3 floats) contains the Cartesian coordinates of all vertices of
the surface. face_indices (list of lists of 3 ints) each triple of
integers defines one face of the surface. The indices correspond to
corners. normals (list of lists of 3 floats) each triple defines
the normal vector associated with the corresponding face.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_main_axes">
<code class="sig-name descname">get_main_axes</code><span class="sig-paren">(</span><em class="sig-param">mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_main_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_main_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last 2 main axes of the aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple of 2 lists of 3 floats, the third and second main axes</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_masses">
<code class="sig-name descname">get_masses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_masses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_masses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of masses associated with the element symbols of the atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of floats, the masses in atomic units</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_names">
<code class="sig-name descname">get_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all element symbols of the atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of strings, the element symbols of the atoms.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_obatom_vec">
<code class="sig-name descname">get_obatom_vec</code><span class="sig-paren">(</span><em class="sig-param">mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_obatom_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_obatom_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a vector of OBAtom pointers</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a swig proxy to the vector of atoms</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_partial_charges">
<code class="sig-name descname">get_partial_charges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_partial_charges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_partial_charges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all partial charges of the atoms according to the specified method.</p>
<p>The returned list has the same order as the atoms in the molecule.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of floats containing the partial charges.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong><strong>, </strong><strong>ManipulateAggregates.aggregate.OpenBabelError.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_pointgroup">
<code class="sig-name descname">get_pointgroup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_pointgroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_pointgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the point group of the current aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the name of the pointgroup.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_potential">
<code class="sig-name descname">get_potential</code><span class="sig-paren">(</span><em class="sig-param">points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute this aggregate’s electrostatic potential at the given coordinates.</p>
<p>This function checks whether the last call used the same configuration
as the previous one. If that is so, files are not read in again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> – (list of lists of 3 floats) the Cartesian coordinates at
which to compute the potential</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy array of dtype float containing the potential values at the
specified points</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_povlight_matrix">
<code class="sig-name descname">get_povlight_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_povlight_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_povlight_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a matrix using which to rotate all normal vectors prior to povray visualization.</p>
<p>Return the composite rotation matrix that allow a rotation around an
axis by an angle. This depends on the currect configuration option for
the key “visrotmat”.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a numpy array of shape (3,3) and dtype float, the rotation matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_surface">
<code class="sig-name descname">get_surface</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a discretized surface of the aggregate according to the current config.</p>
<p>Set properties via ManipulateAggregates.aggregate.agg.set_vs beforehand. See
ManipulateAggregates.aggregate.agg.default_vs for config options.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple of corners,face_indices,normals. corners (a list of lists
of 3 floats) contains the Cartesian coordinates of all vertices of
the surface. face_indices (list of lists of 3 ints) each triple of
integers defines one face of the surface. The indices correspond to
corners. normals (list of lists of 3 floats) each triple defines
the normal vector associated with the corresponding face.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_vdw_radii">
<code class="sig-name descname">get_vdw_radii</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_vdw_radii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_vdw_radii" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all van-der-Waals radii for the atoms in this aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of floats, van-der-Waals radii of the atoms according to the
element table of OpenBabel</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_vdw_surface">
<code class="sig-name descname">get_vdw_surface</code><span class="sig-paren">(</span><em class="sig-param">nr_refinements=1</em>, <em class="sig-param">shrink_factor=0.95</em>, <em class="sig-param">vdwscale=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_vdw_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_vdw_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the aggregate’s discretized van-der-Waals surface.</p>
<p>Do not call directly. Rather use ManipulateAggregates.aggregate.agg.get_surface
and set properties via ManipulateAggregates.aggregate.agg.set_vs beforehand.</p>
<p>Uses CGAL’s skin surface mesher. Please see
<a class="reference external" href="http://doc.cgal.org/latest/Skin_surface_3/index.html">http://doc.cgal.org/latest/Skin_surface_3/index.html</a> for more
information on this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nr_refinements</strong> – (int) number of refinement steps for the skin
surface generation. The higher the number the more vertices it
will have.</p></li>
<li><p><strong>shrink_factor</strong> – the shrink factor for the generation of the skin
surface. Must be between 0 and 1 (not including those). The
bigger the value the tighter the surface will be.</p></li>
<li><p><strong>vdwscale</strong> – (float) multiply each vdW radius by this value before
building the surface</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple of corners,face_indices,normals. corners (a list of lists
of 3 floats) contains the Cartesian coordinates of all vertices of
the surface. face_indices (list of lists of 3 ints) each triple of
integers defines one face of the surface. The indices correspond to
corners. normals (list of lists of 3 floats) each triple defines
the normal vector associated with the corresponding face.</p>
</dd>
</dl>
<p>Example in 2D for nr_points=12</p>
<p>. : point on the sphere’s surface</p>
<p>X : center of the sphere</p>
<p>Not overlapping =&gt; 12 points per sphere</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span>   <span class="o">...</span>   <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span>   <span class="o">.</span> <span class="o">.</span>   <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span> <span class="n">X</span> <span class="o">.</span> <span class="o">.</span> <span class="n">X</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span>   <span class="o">.</span> <span class="o">.</span>   <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="o">...</span>   <span class="o">...</span>
</pre></div>
</div>
<p>Overlapping =&gt; points that would be within the other sphere are removed =&gt; 9
points per “sphere”</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span>   <span class="o">......</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span>      <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span> <span class="n">X</span>  <span class="n">X</span> <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="o">.</span>      <span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="o">......</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.get_vs">
<code class="sig-name descname">get_vs</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.get_vs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.get_vs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an arbitrary configuration option of the dictionary for visualizations and surface generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> – (string) the property whose value you want to get</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value associated with key or None if the key is not present</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.glue">
<code class="sig-name descname">glue</code><span class="sig-paren">(</span><em class="sig-param">agg</em>, <em class="sig-param">i1</em>, <em class="sig-param">i2</em>, <em class="sig-param">m1</em>, <em class="sig-param">m2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.glue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.glue" title="Permalink to this definition">¶</a></dt>
<dd><p>Glue a molecule to the current one.</p>
<p>Two bonds, one in each involved molecule, will be cut in half and then
glued together in such a way, that all atoms connected to i2 and
m2 (including those two) but not connected to i1 and m1 will
be cleaved and the molecules will be glued together so that i1 and
m1 form a proper bond.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg</strong> – aggregate to be glued to this one (of same type)</p></li>
<li><p><strong>i1</strong> – (int) index specifying the atom of the primary molecule that
will be retained</p></li>
<li><p><strong>i2</strong> – (int) index specifying the atom of the primary molecule that
will not be retained</p></li>
<li><p><strong>m1</strong> – (int) index specifying the atom of the secondary molecule that
will be retained</p></li>
<li><p><strong>m2</strong> – (int) index specifying the atom of the secondary molecule that
will not be retained</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.mirror">
<code class="sig-name descname">mirror</code><span class="sig-paren">(</span><em class="sig-param">normal</em>, <em class="sig-param">point</em>, <em class="sig-param">center_it=False</em>, <em class="sig-param">part=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.mirror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>Mirror or point-invert an aggregate.</p>
<p>Mirror the molecule either by point inversion or by mirroring at a
plane.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normal</strong> – (list of 3 floats) the normal vector of the mirror plane.
If its norm is 0, point inversion will be performed.</p></li>
<li><p><strong>point</strong> – (list of 3 floats) either the inversion point or a point in
the plane (Hessian normal form)</p></li>
<li><p><strong>center_it</strong> – (bool) whether or not the entire aggregate’s center
shall be moved to the origin prior to the operation. The center
will automatically be moved back to its original position
afterward the procedure.</p></li>
<li><p><strong>part</strong> – (None or int&gt;=0) if an integer is provided, only treat that
part. Please see ManipulateAggregates.aggregate.agg.tag_parts
for a definition of “part”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.move_closer">
<code class="sig-name descname">move_closer</code><span class="sig-paren">(</span><em class="sig-param">part1</em>, <em class="sig-param">part2</em>, <em class="sig-param">stepsize=0.1</em>, <em class="sig-param">vdw_factor=0.9</em>, <em class="sig-param">vdw_added=0.0</em>, <em class="sig-param">vec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.move_closer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.move_closer" title="Permalink to this definition">¶</a></dt>
<dd><p>Move two parts of an aggregate closer together.</p>
<p>The parts are moved closer together until a clash of vdW surfaces
occurs.  Indices start at 1. A “part” is one covalently bound unit as
determined by the force field. If tagging was enabled using
ManipulateAggregates.aggregate.agg.tag_parts, a “part” is one
tagged unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>part1</strong> – (int) index indicating the first part in the aggregate that
shall be moved closer to another one</p></li>
<li><p><strong>part2</strong> – (int) second index</p></li>
<li><p><strong>stepsize</strong> – (float) stepsize for movement (good value: 0.2)</p></li>
<li><p><strong>vdw_factor</strong> – (float) factor by which all vdW-radii will be
multiplied before detecting clashes (default: 0.9)</p></li>
<li><p><strong>vdw_added</strong> – (float) value that is added to all vdW-radii before
detecting clashes (default: 0.0)</p></li>
<li><p><strong>vec</strong> – (None or list of 3 floats) if not None, the parts will be
moved closer together in the direction of this vector.
Otherwise, the parts will be moved closer along the vector
connecting their non-mass-weighted centers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">steps=500</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a sinple geometry optimization using the current forcefield.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>steps</strong> – (int) number of optimization steps</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.part">
<code class="sig-name descname">part</code><span class="sig-paren">(</span><em class="sig-param">normal_vector</em>, <em class="sig-param">coordinate</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.part"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.part" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an OBMol containing all those atoms that are one one side of a plane.</p>
<p>The plane is given in the Hessian normal form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normal_vector</strong> – (list of 3 floats) the normal vector of the plane</p></li>
<li><p><strong>coordinate</strong> – (list of 3 floats) a point in the plane</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.part_aggregate">
<code class="sig-name descname">part_aggregate</code><span class="sig-paren">(</span><em class="sig-param">normal_vector</em>, <em class="sig-param">coordinate</em>, <em class="sig-param">side='left'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.part_aggregate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.part_aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an object of the same type containing all those atoms that are one one side of a plane.</p>
<p>The plane is given in the Hessian normal form. Please note that the
contructor will be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normal_vector</strong> – (list of 3 floats) the normal vector of the plane</p></li>
<li><p><strong>coordinate</strong> – (list of 3 floats) a point in the plane</p></li>
<li><p><strong>side</strong> – (string) If ‘left’, select those atoms on the side where the
normal vector points. If anything else, select all those on the
opposite side.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.rmsd">
<code class="sig-name descname">rmsd</code><span class="sig-paren">(</span><em class="sig-param">agg</em>, <em class="sig-param">print_result=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.rmsd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.rmsd" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the Root-Mean-Square-Deviation with respect to another aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg</strong> – (of same type) the aggregate to compare agains</p></li>
<li><p><strong>print_result</strong> – (bool) whether or not to also print the result</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.rotate">
<code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param">axis</em>, <em class="sig-param">angle</em>, <em class="sig-param">part=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the molecule around an axis by an angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> – (list of 3 floats) rotate the geometry around this axis</p></li>
<li><p><strong>angle</strong> – (float) the angle for the rotation (in degrees)</p></li>
<li><p><strong>part</strong> – (None or int&gt;=0) if an integer is provided, only treat
that part. Please see ManipulateAggregates.aggregate.agg.tag_parts for a
definition of “part”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.rotate_main">
<code class="sig-name descname">rotate_main</code><span class="sig-paren">(</span><em class="sig-param">axis_index</em>, <em class="sig-param">angle</em>, <em class="sig-param">part=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.rotate_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.rotate_main" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the molecule around one of its main axis by an angle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis_index</strong> – (int, 1, 2 or 3) the index of the main axis to rotate around</p></li>
<li><p><strong>angle</strong> – (float) the angle for the rotation</p></li>
<li><p><strong>part</strong> – (None or int&gt;=0) if an integer is provided, only treat
that part. Please see ManipulateAggregates.aggregate.agg.tag_parts for a
definition of “part”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_angle">
<code class="sig-name descname">set_angle</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">idx3</em>, <em class="sig-param">angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the bond angle in deg.</p>
<p>If the angle connects two parts of a molecule that are otherwise not
connected, those parts are moved with the respective atom. See
ManipulateAggregates.aggregate.agg.set_bondlength for a graphical example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the angle</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the angle</p></li>
<li><p><strong>idx3</strong> – (int) number of third atom that defines the angle</p></li>
<li><p><strong>angle</strong> – (float) the new angle (in degrees)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_bondlength">
<code class="sig-name descname">set_bondlength</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">length</em>, <em class="sig-param">fix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_bondlength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_bondlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust the length of a bond.</p>
<p>If the bond connects two parts of a molecule that are otherwise not
connected, those parts are moved with the respective atom. Otherwise,
move only the 2 given atoms. There does not actually have to be a bond
between the given atoms.</p>
<p>Example original geometry</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">_</span>   <span class="n">_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">|</span><span class="n">_</span><span class="o">|-|</span><span class="n">_</span><span class="o">|</span>
</pre></div>
</div>
<p>Adjust the middle bond to 3 times it’s original length</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">_</span>     <span class="n">_</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">|</span><span class="n">_</span><span class="o">|---|</span><span class="n">_</span><span class="o">|</span>
</pre></div>
</div>
<p>Please note how both squares were moved along with the atoms
comprising the bond.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the bond</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the bond</p></li>
<li><p><strong>length</strong> – (float) the new bond length (in Angstroms)</p></li>
<li><p><strong>fix</strong> – (1 or 2 or None) keep the first or second atom fixed
and move only the other. if it is None, move both by half the required
distance</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_cp">
<code class="sig-name descname">set_cp</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an arbitrary configuration option of the dictionary for obtaining charges and potentials.</p>
<p>If key and value are lists , key-value pairs will be assigned.
If the lists are of unequal lenghts (e.g., n and n+m), only the
first n key-value pairs will be treated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – (string) the property (or properties) to set</p></li>
<li><p><strong>value</strong> – (appropriate) the data associated with the key(s). See
ManipulateAggregates.aggregate.agg.default_cp for possible
options and values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_dihedral">
<code class="sig-name descname">set_dihedral</code><span class="sig-paren">(</span><em class="sig-param">idx1</em>, <em class="sig-param">idx2</em>, <em class="sig-param">idx3</em>, <em class="sig-param">idx4</em>, <em class="sig-param">angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_dihedral"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_dihedral" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dihedral angle in deg.</p>
<p>If the angle connects two parts of a molecule that are otherwise not
connected, those parts are moved with the respective atom. See
ManipulateAggregates.aggregate.agg.set_bondlength for a graphical example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx1</strong> – (int) number of first atom that defines the dihedral angle</p></li>
<li><p><strong>idx2</strong> – (int) number of second atom that defines the dihedral angle</p></li>
<li><p><strong>idx3</strong> – (int) number of third atom that defines the dihedral angle</p></li>
<li><p><strong>idx4</strong> – (int) number of fourth atom that defines the dihedral angle</p></li>
<li><p><strong>angle</strong> – (float) the new angle (in degrees)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_ecp">
<code class="sig-name descname">set_ecp</code><span class="sig-paren">(</span><em class="sig-param">idx</em>, <em class="sig-param">ecp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_ecp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_ecp" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an atom’s (or of multiple ones) core charge property.</p>
<p>If idx and ecp are iterables, idx-ecp pairs will be assigned.
If the iterables are of unequal lenghts (e.g., n and n+m), only the
first n key-value pairs will be treated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> – (int or iterable of ints) the id(s) (starting at 1) of the
atom whose ecp shall be set</p></li>
<li><p><strong>ecp</strong> – (int or iterable of ints) the cored charge(s) of the atom
whose ecp shall be set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.set_vs">
<code class="sig-name descname">set_vs</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.set_vs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.set_vs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an arbitrary configuration option of the dictionary for visualizations and surface generation.</p>
<p>If key and value are lists, key-value pairs will be assigned.
If the lists are of unequal lenghts (e.g., n and n+m), only the
first n key-value pairs will be treated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – (string or list of strings) the property (or properties) to set</p></li>
<li><p><strong>value</strong> – (appropriate) the data associated with the key(s). See
ManipulateAggregates.aggregate.agg.default_vs for possible
options and values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.tag_parts">
<code class="sig-name descname">tag_parts</code><span class="sig-paren">(</span><em class="sig-param">parts</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.tag_parts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.tag_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage the use of tagging (and thus change the definition of “part”).</p>
<p>Enable, disable or manage tagging. Part indices start at 0. A “part” is
one covalently bound unit as determined by the force field. If tagging
was enabled, a “part” is one tagged unit.</p>
<p>If parts is a list of integers, the molecules that are indexed with
the numbers in this list are together added to one tag and tagging is
enabled for the entire aggregate. If parts is &lt;0, tagging is disabled.
If parts is &gt;0, tagging is enabled (and nothing else happens). If parts
is 0, only tagging information is printed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parts</strong> – (int or list of ints) see detailed description</p></li>
<li><p><strong>verbose</strong> – (bool) whether or not information about what was changed
shall be printed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the index that, from now on, can be used to treat the here tagged
unit, or None if no tagging was changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.translate">
<code class="sig-name descname">translate</code><span class="sig-paren">(</span><em class="sig-param">vector</em>, <em class="sig-param">part=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the molecule in a given direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector</strong> – (list of 3 floats) vector that is added to every atom’s coordinate</p></li>
<li><p><strong>part</strong> – (None or int&gt;0=) if an integer is provided, only treat that
part. Please see ManipulateAggregates.aggregate.agg.tag_parts
for a definition of “part”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.vdw_check">
<code class="sig-name descname">vdw_check</code><span class="sig-paren">(</span><em class="sig-param">factor=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.vdw_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.vdw_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for van-der-Waals clashes.</p>
<p>Check whether any two atoms are closer together than the sum of their
van-der-Vaals radii.  Perform this check only for atoms that are not
connected by an arbitrary number of bonds. Hence, this only makes sense
for aggregates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> – (float) before checking for clashes, each
van-der-Waals radius is multiplied by this factor</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether or not any two atoms clash</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.visualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize the aggregate according to the currect config.</p>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.agg.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">fileformat=None</em>, <em class="sig-param">overwrite=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#agg.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.agg.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the data of the molecule to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – (string) path to the file (INCLUDING the extension)</p></li>
<li><p><strong>fileformat</strong> – (string) output file format (anything that maagbel can write)</p></li>
<li><p><strong>overwrite</strong> – shall the output file be overwritten or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ManipulateAggregates.aggregate.MissingModuleError.</strong> – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ManipulateAggregates.aggregate.dummy_ff">
<em class="property">class </em><code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">dummy_ff</code><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy class to catch cases when OpenBabel’s force field could not be set up.</p>
<dl class="method">
<dt id="ManipulateAggregates.aggregate.dummy_ff.Energy">
<code class="sig-name descname">Energy</code><span class="sig-paren">(</span><em class="sig-param">mol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff.Energy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff.Energy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.dummy_ff.GetCoordinates">
<code class="sig-name descname">GetCoordinates</code><span class="sig-paren">(</span><em class="sig-param">mol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff.GetCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff.GetCoordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.dummy_ff.GetUnit">
<code class="sig-name descname">GetUnit</code><span class="sig-paren">(</span><em class="sig-param">mol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff.GetUnit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff.GetUnit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.dummy_ff.Setup">
<code class="sig-name descname">Setup</code><span class="sig-paren">(</span><em class="sig-param">mol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff.Setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff.Setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.aggregate.dummy_ff.SteepestDescent">
<code class="sig-name descname">SteepestDescent</code><span class="sig-paren">(</span><em class="sig-param">mol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#dummy_ff.SteepestDescent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.dummy_ff.SteepestDescent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.aggregate.guess_format">
<code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">guess_format</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">no_except=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#guess_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.guess_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to guess the file format.</p>
<p>If the filename contains no dot, try to match the whole filename against
OpenBabel’s filetype database. Useful for e.g. CONTCAR files that seldomnly
contain a dot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – (string) the name of the file whose type to guess</p></li>
<li><p><strong>no_except</strong> – (bool) if False, an exception is raised if the filetype is not known.
If True, only None will be returned in that case.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the file type or None (depending on no_except)</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ManipulateAggregates.aggregate.FiletypeException.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.aggregate.read_from_file">
<code class="sig-prename descclassname">ManipulateAggregates.aggregate.</code><code class="sig-name descname">read_from_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">fileformat=None</em>, <em class="sig-param">conf_nr=1</em>, <em class="sig-param">ff='mmff94'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/aggregate.html#read_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.aggregate.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert content of file to ManipulateAggregates.aggregate.agg.</p>
<p>Guesses filetype if none specified. Also converts “~” to the proper home
directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – (string) path to the file</p></li>
<li><p><strong>fileformat</strong> – (string or None) guess type if None, otherwise use specified
filetype</p></li>
<li><p><strong>conf_nr</strong> – (int or iterable of ints) index/indices of those conformers to be
loaded. Special keyword ‘all’ will return all conformers in file.  Special
keywords “first” and “last” return the first and last of the conformers,
respectively</p></li>
<li><p><strong>ff</strong> – (string) name of the force field to use. Run “manipagg –list forcefields”
to get supported ones.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object of ManipulateAggregates.aggregate.agg</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError.</strong> – </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ManipulateAggregates.collection">
<span id="collection"></span><h2>Collection<a class="headerlink" href="#module-ManipulateAggregates.collection" title="Permalink to this headline">¶</a></h2>
<p>This sobmodule is an aggregator for auxilliary functionality.</p>
<dl class="simple">
<dt>It provides functionality to:</dt><dd><ul class="simple">
<li><p>read and write several file formats used in computational chemistry</p></li>
<li><p>control OpenGL from Python</p></li>
<li><p>prefix file names by auto-generated hashes to limit the number of files
per directory (huge speed-ups for some file systems)</p></li>
<li><p>control gnuplot from Python</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="module-ManipulateAggregates.collection.gnuplot">
<span id="collection-gnuplot"></span><h2>Collection.gnuplot<a class="headerlink" href="#module-ManipulateAggregates.collection.gnuplot" title="Permalink to this headline">¶</a></h2>
<p>Class definition to control Gnuplot from Python.</p>
<dl class="class">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot">
<em class="property">class </em><code class="sig-prename descclassname">ManipulateAggregates.collection.gnuplot.</code><code class="sig-name descname">gnuplot</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">size=(20</em>, <em class="sig-param">12)</em>, <em class="sig-param">linewidth=1</em>, <em class="sig-param">xrange=None</em>, <em class="sig-param">yrange=None</em>, <em class="sig-param">correct_mark=True</em>, <em class="sig-param">correct_mark_dist=0.001</em>, <em class="sig-param">fontsize=10</em>, <em class="sig-param">xlog=False</em>, <em class="sig-param">ylog=False</em>, <em class="sig-param">classic_colors=True</em>, <em class="sig-param">dimensions=2</em>, <em class="sig-param">font='Helvetica'</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Controller class for gnuplot.</p>
<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.correct_mark">
<code class="sig-name descname">correct_mark</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.correct_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>(bool) whether or not marks should be slightly displaced if they
overlap</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.correct_mark_dist">
<code class="sig-name descname">correct_mark_dist</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.correct_mark_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>(float) by how much to displace overlaping marks</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.dict">
<code class="sig-name descname">dict</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) holds configuration parameters</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.dimensions">
<code class="sig-name descname">dimensions</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>(int, 2 or 3): the dimensionality of the plot</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.f">
<code class="sig-name descname">f</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.f" title="Permalink to this definition">¶</a></dt>
<dd><p>(pipe) STDIO of GP to which the controlling information is written.</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.font">
<code class="sig-name descname">font</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.font" title="Permalink to this definition">¶</a></dt>
<dd><p>(string) font to use</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.fontsize">
<code class="sig-name descname">fontsize</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.fontsize" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) fontsize to use</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.GP">
<code class="sig-name descname">GP</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.GP" title="Permalink to this definition">¶</a></dt>
<dd><p>(process) an instance of Gnuplot opened via Popen</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.rectanglecount">
<code class="sig-name descname">rectanglecount</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.rectanglecount" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) how many rectangles were already drawn</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.tempfiles">
<code class="sig-name descname">tempfiles</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.tempfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>list of temporary files and whether they shall be auto-deleted</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.xmarks">
<code class="sig-name descname">xmarks</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.xmarks" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) used to store marks in x direction - check for overlaps</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.xrange">
<code class="sig-name descname">xrange</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.xrange" title="Permalink to this definition">¶</a></dt>
<dd><p>(tuple of 2 floats) range for x axis</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.ymarks">
<code class="sig-name descname">ymarks</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.ymarks" title="Permalink to this definition">¶</a></dt>
<dd><p>(dictionary) used to store marks in y direction - check for overlaps</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.yrange">
<code class="sig-name descname">yrange</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.yrange" title="Permalink to this definition">¶</a></dt>
<dd><p>(tuple of 2 floats) range for y axis</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.zrange">
<code class="sig-name descname">zrange</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.zrange" title="Permalink to this definition">¶</a></dt>
<dd><p>(tuple of 2 floats) range for y axis if plot in 3 dimensions</p>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.data_to_file">
<code class="sig-name descname">data_to_file</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">formatstring=None</em>, <em class="sig-param">delete=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.data_to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.data_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert some data (given as x-y value pairs) to a format for Gnuplot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – (list of pairs of floats) the data to be plotted</p></li>
<li><p><strong>formatstring</strong> – (string) a printf-type string that will be used to
convert each element of data to a string. Gnuplot will plot
what’s left after the conversion.</p></li>
<li><p><strong>delete</strong> – (bool) whether or not the temporary file that is created
shall be deleted when finalize is called</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.emptyplot">
<code class="sig-name descname">emptyplot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.emptyplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.emptyplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty plot.</p>
<p>This is useful if only marks or arrows shall be plotted. Normally,
Gnuplot would not create a plot under such conditions.</p>
<p>Requires xrange and yrange to be set using set_xrange and
set_yrange.</p>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param">delete=True</em>, <em class="sig-param">convert=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize the plot.</p>
<p>This calls a set of routines that finish the plotting procedure.
Without calling this, the plot will never actually be created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delete</strong> – (bool) whether or not temporary files that were declared as
“to-be-deleted” shall actually be deleted.</p></li>
<li><p><strong>convert</strong> – (bool) whether or not to convert the eps file to a pdf
file if the required software is installed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict">
<em class="property">class </em><code class="sig-name descname">gp_dict</code><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.gp_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dummy class to hold the description of the config dictionaries.</p>
<p>All members of this class are actually keys (of type string) that can
be in each config dictionary and the given type is that of the
associated value. The two letter abbreviations lc, lw and dt are
Gnuplot commands. Please see Gnuplot’s documentation.</p>
<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.lines">
<code class="sig-name descname">lines</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.lines" title="Permalink to this definition">¶</a></dt>
<dd><p>(none) if the key is set, plot a line</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.points">
<code class="sig-name descname">points</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.points" title="Permalink to this definition">¶</a></dt>
<dd><p>(none) if the key is set, plot points</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.type" title="Permalink to this definition">¶</a></dt>
<dd><p>(string) type of plot: ‘file’ (raw data) or ‘function’ (analytic function)</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.function">
<code class="sig-name descname">function</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.function" title="Permalink to this definition">¶</a></dt>
<dd><p>(string) description of the analytic function</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.filename">
<code class="sig-name descname">filename</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>(string) the file that contains the raw data</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.xcol">
<code class="sig-name descname">xcol</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.xcol" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) coloumn in the file that contains x data</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.ycol">
<code class="sig-name descname">ycol</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.ycol" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) coloumn in the file that contains y data</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.zcol">
<code class="sig-name descname">zcol</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.zcol" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) coloumn in the file that contains z data</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.border">
<code class="sig-name descname">border</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.border" title="Permalink to this definition">¶</a></dt>
<dd><p>(none) when plotting a rectange, it will have a border if this is set</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.color">
<code class="sig-name descname">color</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.color" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) colour as in ‘lc INT’. Special value: ‘AUTO’</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.dash">
<code class="sig-name descname">dash</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.dash" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) dash type as in ‘dt INT’. Special value: ‘AUTO’</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.point">
<code class="sig-name descname">point</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.point" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) point type as in ‘dt INT’. Special value: ‘AUTO’</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.head">
<code class="sig-name descname">head</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.head" title="Permalink to this definition">¶</a></dt>
<dd><p>(none) whether arrows shall have heads</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.linewidth">
<code class="sig-name descname">linewidth</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.linewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>(float) line width as in ‘lw FLOAT’</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.opacity">
<code class="sig-name descname">opacity</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.opacity" title="Permalink to this definition">¶</a></dt>
<dd><p>(float) opacity of the rectangle (if solid is set)</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.pointsize">
<code class="sig-name descname">pointsize</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.pointsize" title="Permalink to this definition">¶</a></dt>
<dd><p>(float) size of the points (if points is declared)</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.solid">
<code class="sig-name descname">solid</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.solid" title="Permalink to this definition">¶</a></dt>
<dd><p>(none) if set, plot a solid rectangle (not just border)</p>
</dd></dl>

<dl class="attribute">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.title">
<code class="sig-name descname">title</code><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.gp_dict.title" title="Permalink to this definition">¶</a></dt>
<dd><p>(string) the name of the plotted function/data</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.lineplot">
<code class="sig-name descname">lineplot</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.lineplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.lineplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot one or several functions (can also be raw data).</p>
<p>Each function has a certain set of possible config options. See
gnuplot.gp_dict for all possible options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – (dictionary or list of dictionaries) each dictionary contains
a set of key-value pairs that define the function to be plotted
and how it shall be formated.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.mark">
<code class="sig-name descname">mark</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">direction</em>, <em class="sig-param">width=0.5</em>, <em class="sig-param">color=None</em>, <em class="sig-param">rectangle=False</em>, <em class="sig-param">opacity=1.0</em>, <em class="sig-param">center=True</em>, <em class="sig-param">extent=None</em>, <em class="sig-param">label=None</em>, <em class="sig-param">zpos=None</em>, <em class="sig-param">dash=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.mark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.mark" title="Permalink to this definition">¶</a></dt>
<dd><p>Create vertival or horizontal line on the plot.</p>
<p>If the plot is 3D, the position in the 3rd direction is also required.
However, the plots are still in planes parallel to the x-y plane.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – (float) x or y position of the mark (depending on direction)</p></li>
<li><p><strong>direction</strong> – (“x” or “y”) the direction of the line</p></li>
<li><p><strong>width</strong> – (float) the line width</p></li>
<li><p><strong>color</strong> – (int) colour as in ‘lc INT’</p></li>
<li><p><strong>rectangle</strong> – (bool) whether the mark is not just a line but a rectangle</p></li>
<li><p><strong>opacity</strong> – (float) opacity of the mark (only used if rectangle)</p></li>
<li><p><strong>center</strong> – (bool) whether or not the given position is the mark’s center.
Otherwise, the pos is considered to be the left border (only
used if rectangle)</p></li>
<li><p><strong>extent</strong> – (tuple of 2 floats) the startpoint and endpoint in the
direction of the line (defaults to: entire plot)</p></li>
<li><p><strong>label</strong> – (dictionary) an optional description of an optional label. See
description of set_label for required and optional keys.</p></li>
<li><p><strong>zpos</strong> – (float) position of the mark in a 3D plot. Required if the
dimensionality of the plot is 3.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.postplot">
<code class="sig-name descname">postplot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.postplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.postplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset arrows and labels.</p>
<p>This is required when creating a plot that contains multiple pages since
otherwise the labels and arrows/marks would be repeated on every page.</p>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set">
<code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param">prop</em>, <em class="sig-param">oneprop=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an arbitrary ‘set’ command to Gnuplot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> – (string or iterable of strings) if oneprop is True (the
default), et the one property given via prop. Otherwise set
all properties in the iterable prop.</p></li>
<li><p><strong>oneprop</strong> – (bool) whether or not prop is not an iterable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_background">
<code class="sig-name descname">set_background</code><span class="sig-paren">(</span><em class="sig-param">opacities</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">nr_fields=None</em>, <em class="sig-param">direction='x'</em>, <em class="sig-param">extent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_background"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a non-white background for the plot.</p>
<p>You can create backgrounds of areas with alternating colors or even
checked backgrounds. This is realized as repeating a given pattern of
opacities and colours until the entirety of the plot is filled in a
certain direction. A checked pattern can be obtained by repeating a
black-and-white pattern multiple times as black-and-white -&gt;
white-and-black -&gt; black-and-white etc. These backgrounds are realized
via rectangles, so they support all the properties of Gnuplot’s
rectangles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opacities</strong> – (iterable of floats) pattern of opacities</p></li>
<li><p><strong>colors</strong> – (iterable of ints) pattern of colors. Defaults to black for
all pattern elements.</p></li>
<li><p><strong>nr_fields</strong> – (int) the number of sections in which to partition the
plot. E.g., if given a black-and-white pattern, a value of 5
would result in black-&gt;white-&gt;black-&gt;white-&gt;black.</p></li>
<li><p><strong>direction</strong> – (“x” or “y”) the direction of the pattern (defaults to “x”)</p></li>
<li><p><strong>extent</strong> – (tuple of 2 floats) how far in the other direction (that
not specified by direction) the pattern shall extent</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_label">
<code class="sig-name descname">set_label</code><span class="sig-paren">(</span><em class="sig-param">label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a label on a plot.</p>
<p>The argument label is a dictionary whose entries for “font”,
“fontsize”, “pivot”, “rotation” and “depth” can overwrite the defaults.
Needs to have entries for “text” (the label’s text) and “position”
(tuple of floats describing the position).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>label</strong> – (dictionary) a description of the label. See description of
set_label for required and optional keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_stick">
<code class="sig-name descname">set_stick</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">height</em>, <em class="sig-param">color</em>, <em class="sig-param">base=0.0</em>, <em class="sig-param">width=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_stick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_stick" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a vertical line of a certain height (i.e., stick).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – (float) the x position of the stick</p></li>
<li><p><strong>height</strong> – (float) the height in the y direction of the stick</p></li>
<li><p><strong>color</strong> – (int) the color if the stick as in ‘lc INT’</p></li>
<li><p><strong>base</strong> – (float) where the stick shall start (defaults to x axis)</p></li>
<li><p><strong>width</strong> – (float) the width of the stick</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_title">
<code class="sig-name descname">set_title</code><span class="sig-paren">(</span><em class="sig-param">title</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the title of the plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> – (string) the title of the generated plot</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_xrange">
<code class="sig-name descname">set_xrange</code><span class="sig-paren">(</span><em class="sig-param">start</em>, <em class="sig-param">stop</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_xrange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_xrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the range of the plot in x-direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – (float) start of the x range</p></li>
<li><p><strong>stop</strong> – (float) end of the x range</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_yrange">
<code class="sig-name descname">set_yrange</code><span class="sig-paren">(</span><em class="sig-param">start</em>, <em class="sig-param">stop</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_yrange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_yrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the range of the plot in y-direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – (float) start of the y range</p></li>
<li><p><strong>stop</strong> – (float) end of the y range</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.set_zrange">
<code class="sig-name descname">set_zrange</code><span class="sig-paren">(</span><em class="sig-param">start</em>, <em class="sig-param">stop</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.set_zrange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.set_zrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the range of the plot in z-direction if the plot is 3D.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – (float) start of the z range</p></li>
<li><p><strong>stop</strong> – (float) end of the z range</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ManipulateAggregates.collection.gnuplot.gnuplot.unset">
<code class="sig-name descname">unset</code><span class="sig-paren">(</span><em class="sig-param">prop</em>, <em class="sig-param">oneprop=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/gnuplot.html#gnuplot.unset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.gnuplot.gnuplot.unset" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an arbitrary ‘unset’ command to Gnuplot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> – (string or iterable of strings) if oneprop is True (the
default), unset the one property given via prop. Otherwise
unset all properties in the iterable prop.</p></li>
<li><p><strong>oneprop</strong> – (bool) whether or not prop is not an iterable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ManipulateAggregates.collection.opengl">
<span id="collection-opengl"></span><h2>Collection.opengl<a class="headerlink" href="#module-ManipulateAggregates.collection.opengl" title="Permalink to this headline">¶</a></h2>
<p>Function definitions for drawing complex objects on the screen using OpenGL.</p>
<p>This is just a handy collection of wrapper functions for OpenGL. See
ManipulateAggregates.aggregate.visualize.PlotGL_Spheres and
ManipulateAggregates.aggregate.visualize.PlotGL_Surface as example
functions about how to use this module.</p>
<p>WARNING: Note that this module might be a bit slow. It was my first try at using OpenGL,
so please bear with me.</p>
<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.DrawGLSpheres">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">DrawGLSpheres</code><span class="sig-paren">(</span><em class="sig-param">spheres</em>, <em class="sig-param">colourscale</em>, <em class="sig-param">globalscale=1</em>, <em class="sig-param">globalskip=0</em>, <em class="sig-param">elements_per_line=None</em>, <em class="sig-param">sphere_elements=50</em>, <em class="sig-param">colour_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#DrawGLSpheres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.DrawGLSpheres" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tells OpenGL to draw spheres via GLUT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spheres</strong> – (list of lists of 4 floats x,y,z,r) x,y,z are sphere’s Cartesian
center coordinates and r is the radius</p></li>
<li><p><strong>colourscale</strong> – (2 element tuple) the z-values that should be associated
with the “lowest” colour and the “highest” colour</p></li>
<li><p><strong>globalscale</strong> – (float) scale the whole plot in all dimensions by this much</p></li>
<li><p><strong>globalskip</strong> – (int) every 1 triangle, do not draw the next this many
triangles and every “line” of triangles, do not plot the next this
many lines</p></li>
<li><p><strong>elements_per_line</strong> – (int) assuming a quadratic mesh (in x and y
dimensions), how many points are there per line. Ignored if not set</p></li>
<li><p><strong>sphere_elements</strong> – (int) controls how many azimutal and longitudinal
elements are drawn per sphere</p></li>
<li><p><strong>colour_list</strong> – (list of lists of 3 floats) RGB values for sphere colors.
If None is given, the spheres are coloured according to the
z-coordinate of their centers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.DrawGLTrimesh">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">DrawGLTrimesh</code><span class="sig-paren">(</span><em class="sig-param">index, faces=None, colourscale=None, globalscale=None, globalskip=0, elements_per_line=None, ccol=2, colours=[[0.0, 0.0, 0.0], [0.8, 0.3, 0.0], [1.0, 1.0, 0.0], [1.0, 1.0, 1.0]], borders=[0.0, 0.2, 0.7, 1.0]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#DrawGLTrimesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.DrawGLTrimesh" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tells OpenGL to draw a trimesh.</p>
<p>The function uses a static variable to remember the trimeshes that it was
used to draw in order to save a lot of time. The only input that is allowed
to change for a trimesh that has already been drawn is globalscale. In
fact, everything else will be ignored for subsequent calls. The parameters
faces and colourscale are mandatory when calling this function with a
new trimesh for the first time. A new trimesh is defined as one whose
index has not yet been passed to this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – (int) the index of the trimesh to be drawn. Can also be an new index.</p></li>
<li><p><strong>faces</strong> – (list of lists) should look like [A,B,C,…] where A,B and C are
faces and have 3 elements each p1,p2 and p3, which all are Cartesian
vectors in 3 dimensions</p></li>
<li><p><strong>colourscale</strong> – (tuple of 2 floats) the z-values that should be associated
with the “lowest” colour and the “highest” colour</p></li>
<li><p><strong>globalscale</strong> – (float) scale the whole plot in all dimensions by this much</p></li>
<li><p><strong>globalskip</strong> – (int) every 1 triangle, do not draw the next this many
triangles and every “line” of triangles, do not plot the next this
many lines</p></li>
<li><p><strong>elements_per_line</strong> – (int) assuming a quadratic mesh (in x and y
dimensions), how many points are there per line. Ignored if not set</p></li>
<li><p><strong>ccol</strong> – (int) which entry in each sublist of faces contains color data
(a float between 0 and 1 that is mapped to the colour scale using
the values in colours and borders.</p></li>
<li><p><strong>colours</strong> – (list of N lists of 3 floats) a colour scale for the plot in RGB format</p></li>
<li><p><strong>borders</strong> – (list of N floats) the borders for the new colour scale</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.GLAdjustCamera">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">GLAdjustCamera</code><span class="sig-paren">(</span><em class="sig-param">angles</em>, <em class="sig-param">translation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#GLAdjustCamera"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.GLAdjustCamera" title="Permalink to this definition">¶</a></dt>
<dd><p>Properly adjust relative positions of plot and camera.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> – (tuple of 3 floats) angles around the x, y and z axes
in degrees</p></li>
<li><p><strong>translation</strong> – (tuple of 3 floats) camera displacement vector</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.GLMainDisplay">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">GLMainDisplay</code><span class="sig-paren">(</span><em class="sig-param">angles</em>, <em class="sig-param">translation</em>, <em class="sig-param">faces</em>, <em class="sig-param">face_colourscale</em>, <em class="sig-param">draw_faces</em>, <em class="sig-param">spheres</em>, <em class="sig-param">sphere_colourscale</em>, <em class="sig-param">draw_spheres</em>, <em class="sig-param">globalscale</em>, <em class="sig-param">elements_per_line_faces</em>, <em class="sig-param">elements_per_line_spheres</em>, <em class="sig-param">globalskip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#GLMainDisplay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.GLMainDisplay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.GetCameraMatrix">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">GetCameraMatrix</code><span class="sig-paren">(</span><em class="sig-param">angles</em>, <em class="sig-param">invert=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#GetCameraMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.GetCameraMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the proper transformation matrix for the camera.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angles</strong> – (tuple of 3 floats) angles around the x, y and z axes
in degrees</p></li>
<li><p><strong>invert</strong> – (bool) if True, the matrices Mx, My and Mz (which are the
rotation matrices around the x, y and z axes, respectively) will be
multiplied in the order Mx*My*Mz. If False, the order will be inversed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 4x4 numpy matrix that can be used by, say, PoVRay to correctly
manipulate the camera.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.InitGL">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">InitGL</code><span class="sig-paren">(</span><em class="sig-param">Width</em>, <em class="sig-param">Height</em>, <em class="sig-param">use_light=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#InitGL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.InitGL" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize OpenGL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Width</strong> – (int) width of window in pixels</p></li>
<li><p><strong>Height</strong> – (int) height of window in pixels</p></li>
<li><p><strong>use_light</strong> – (bool) whether or not to use lighting.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Bug:</dt><dd><p>Nothing is displayed if use_light is True and a trimesh shall be
displayed using ManipulateAggregates.collection.opengl.WritePovrayTrimesh</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.WritePovrayTrimesh">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">WritePovrayTrimesh</code><span class="sig-paren">(</span><em class="sig-param">handle, matrix, translation, indices, points, normals, colorvalues, colourscale, globalscale=1, globalskip=0, elements_per_line=None, ccol=2, colours=[[0.0, 0.0, 0.0], [0.8, 0.3, 0.0], [1.0, 1.0, 0.0], [1.0, 1.0, 1.0]], borders=[0.0, 0.2, 0.7, 1.0]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#WritePovrayTrimesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.WritePovrayTrimesh" title="Permalink to this definition">¶</a></dt>
<dd><p>This function writes a trimesh in PovRay format to a file handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> – (file descriptor) the handle whose .write method will be used</p></li>
<li><p><strong>matrix</strong> – (4x4 matrix) the matrix that rotates the mesh to be properly visualized</p></li>
<li><p><strong>translation</strong> – (list of 3 floats) a Cartesian displacement vector that
will be applied to all vertices</p></li>
<li><p><strong>indices</strong> – (list of lists of 3 ints) each sublist contains the indices of
those vertives (given in points) that make up a face of the trimesh</p></li>
<li><p><strong>points</strong> – (numpy array of shape 1,3 and dtype float) the vertices
describing the actual trimesh per element</p></li>
<li><p><strong>normals</strong> – (list of [float,float,float]) one normal vector per vertex</p></li>
<li><p><strong>colorvalues</strong> – (numpy array of shape 1,3 and dtype float) the RGB color
values associated with each vertex (as given in points)</p></li>
<li><p><strong>ccol</strong> – (int) which entry in each sublist of faces contains color data
(a float between 0 and 1 that is mapped to the colour scale using
the values in colours and borders.</p></li>
<li><p><strong>colourscale</strong> – (2 element tuple) the z-values that should be associated
with the “lowest” colour and the “highest” colour</p></li>
<li><p><strong>globalscale</strong> – (float) scale the whole plot in all dimensions by this much</p></li>
<li><p><strong>globalskip</strong> – (int) every 1 triangle, do not draw the next this many
triangles and every “line” of triangles, do not plot the next this
many lines</p></li>
<li><p><strong>elements_per_line</strong> – (int) assuming a quadratic mesh (in x and y
dimensions), how many points are there per line. Ignored if not set</p></li>
<li><p><strong>colours</strong> – (list of N lists of 3 floats) a colour scale for the plot in RGB format</p></li>
<li><p><strong>borders</strong> – (list of N floats) the borders for the new colour scale</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.povray">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">povray</code><span class="sig-paren">(</span><em class="sig-param">size, basename, format, count, angles, translation, povray_data, colourscale, globalscale=1, colours=[[0.0, 0.0, 0.0], [0.8, 0.3, 0.0], [1.0, 1.0, 0.0], [1.0, 1.0, 1.0]], borders=[0.0, 0.2, 0.7, 1.0], arrow_transform=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#povray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.povray" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the current OpenGL-view of a trimesh using PoVRay into a PNG.</p>
<p>The PNGs that are generated all be called basename followed by an
integer number (the index).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – (tuple of 2 ints) the x and y sizes of the plot in pixels</p></li>
<li><p><strong>basename</strong> – (string) path to the file without extension</p></li>
<li><p><strong>format</strong> – (string) printf-type format string converting an integer to the
count in string form (i.e., the index)</p></li>
<li><p><strong>count</strong> – (int) index of the image</p></li>
<li><p><strong>angles</strong> – (tuple of 3 floats) angles around the x, y and z axes
in degrees</p></li>
<li><p><strong>translation</strong> – (tuple of 3 floats) camera displacement vector</p></li>
<li><p><strong>povray_data</strong> – (list of lists) the arguments will be passed as “indices”,
“points”, “normals” and “colorvalues” to the
function ManipulateAggregates.collection.opengl.WritePovrayTrimesh
in that order</p></li>
<li><p><strong>colourscale</strong> – (tuple of 2 floats) the z-values that should be associated
with the “lowest” colour and the “highest” colour</p></li>
<li><p><strong>globalscale</strong> – (float) scale the whole plot in all dimensions by this much</p></li>
<li><p><strong>colours</strong> – (list of lists of 3 floats) colours for linear interpolation
in rgb format</p></li>
<li><p><strong>borders</strong> – (list of floats) start and stop of colour intervals in
fractions of 1 ([minc:maxc] will be mapped to [0:1])</p></li>
<li><p><strong>arrow_transform</strong> – (string) valid PoVRay code that will be used to
transform any arrows that the user might want to add using the
provided “arrow” macro by editing the generated .pov-file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.snap">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">snap</code><span class="sig-paren">(</span><em class="sig-param">size</em>, <em class="sig-param">basename</em>, <em class="sig-param">format</em>, <em class="sig-param">count</em>, <em class="sig-param">extension</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#snap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.snap" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an OpenGL screenshot to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – (tuple of 2 ints) size of the image in pixels in x and y directions</p></li>
<li><p><strong>basename</strong> – (string) path plus first part of filename</p></li>
<li><p><strong>count</strong> – (int) if the images shall be numbered, say what number this
image shall have</p></li>
<li><p><strong>format</strong> – (string) to have fixed width numbering, declare the printf-type
format string (like %6d)</p></li>
<li><p><strong>extension</strong> – (string) filetype, “png” recommended</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.collection.opengl.yield_values">
<code class="sig-prename descclassname">ManipulateAggregates.collection.opengl.</code><code class="sig-name descname">yield_values</code><span class="sig-paren">(</span><em class="sig-param">values, minc=0, maxc=1, scale=1, maxextent_x=1, maxextent_y=1, xcol=0, ycol=1, zcol=2, ccol=2, shift=[0.0, 0.0, 0.0], colours=[[0.0, 0.0, 0.0], [0.8, 0.3, 0.0], [1.0, 1.0, 0.0], [1.0, 1.0, 1.0]], borders=[0.0, 0.2, 0.7, 1.0], backcol=None, skip=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/collection/opengl.html#yield_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.collection.opengl.yield_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale objects that are to be drawn using OpenGL.</p>
<p>Give back properly adjusted values to fit on the screen using a generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – (list of lists) contains data in coloumn-major format</p></li>
<li><p><strong>minc</strong> – (float) minimum z value for colours (cbrange [minc:maxc] in gluplot)</p></li>
<li><p><strong>maxc</strong> – (float) maximum z value for colours (cbrange [minc:maxc] in gluplot)</p></li>
<li><p><strong>scale</strong> – (float) stretch z dimension by this factor</p></li>
<li><p><strong>xcol</strong> – (int) which coloumn of values contains x data (gnuplot: using
($xcol):($ycol):(scale*$zcol):($ccol))</p></li>
<li><p><strong>ycol</strong> – (int) which coloumn of values contains y data (gnuplot: using
($xcol):($ycol):(scale*$zcol):($ccol))</p></li>
<li><p><strong>zcol</strong> – (int) which coloumn of values contains z data (gnuplot: using
($xcol):($ycol):(scale*$zcol):($ccol))</p></li>
<li><p><strong>ccol</strong> – (int) which coloumn of values contains color data (gnuplot: using
($xcol):($ycol):(scale*$zcol):($ccol))</p></li>
<li><p><strong>shift</strong> – (list of 3 floats) Cartesian displacement vector</p></li>
<li><p><strong>maxextent_x</strong> – (float) if negative, desired maximum extent of structure
in x direction, will be streched to fit perfectly. If positive,
scale x direction by the absolute value of the given number.</p></li>
<li><p><strong>maxextent_y</strong> – (float) if negative, desired maximum extent of structure
in y direction, will be streched to fit perfectly. If positive,
scale y direction by the absolute value of the given number</p></li>
<li><p><strong>colours</strong> – (list of lists of 3 floats) colours for linear interpolation
in rgb format</p></li>
<li><p><strong>borders</strong> – (list of floats) start and stop of colour intervals in
fractions of 1 ([minc:maxc] will be mapped to [0:1])</p></li>
<li><p><strong>backcol</strong> – (int) if you want an additional coloumn returned, specify
which one</p></li>
<li><p><strong>skip</strong> – (list of lists of 3 floats) should be a list of (m,n,o). Starting
at point o, skip n data points every m data points. Is processed in
the given order.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>tuples of 2 or 3 lists. If backcol is None, only 2 elements are
present. Otherwise the third element is the coloumn indexed by
backcol. The first list contains 3-element lists which are the
Cartesian coordinates of the vertices to be drawn. The second list are
the colour codes for OpenGL for these vertices.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ManipulateAggregates.energyscan">
<span id="energyscan"></span><h2>EnergyScan<a class="headerlink" href="#module-ManipulateAggregates.energyscan" title="Permalink to this headline">¶</a></h2>
<p>Create low-energy aggregates from molecules.</p>
<p>This is the submodule energyscan. It estimates energetically favourable
aggregate (dimers and higher ones) geometries in a three-step procedure.</p>
<ol class="arabic simple">
<li><p>create a huge number of aggregates:
- implemented in ManipulateAggregates.energyscan.scan
- Keep a central molecule fixed and
- move another molecule around the central one (varying orientations) and
- evaluate energy for every aggregate created (so far: using force fields).
- molecules can be replaced by entire aggregates</p></li>
<li><p>search for local energy minima among the aggregates created in the previous step
- implemented in ManipulateAggregates.energyscan.minimasearch</p></li>
<li><p>screen all of those local energy minimum structures to obtain a highly diverse set
- implemented in ManipulateAggregates.energyscan.similarityscreening</p></li>
</ol>
<p>It requires a custom and reduced version of OpenBabel
(<a class="reference external" href="https://github.com/razziel89/MaAg-bel">https://github.com/razziel89/MaAg-bel</a>) including its Python bindings. It also requires
the Python package FireDeamon (<a class="reference external" href="https://github.com/razziel89/libfiredeamon">https://github.com/razziel89/libfiredeamon</a>).</p>
<p>It currently uses OpenBabel’s force fields to estimate aggregate energies.
Please see the global help text variable energyscan.LONGHELPTEXT for a more
detailed description.</p>
<p>Parallelization is supported for some subsubmodules. Set the environment
variable OMP_NUM_THREADS to the value you want to use. Only single-node
parallelization is supported as of now.</p>
<p>Details:</p>
<p>The generation of low-energy aggregates is a three-step procedure. The first
step is a volumetric energy scan: first, two regular three-dimensional grids
are generated, the molecules’ main axes are aligned with the three Cartesian
axes and they are centered at the origin. Then, one of the molecules is kept
fixed while the other’s center is moved to every point on the first, i.e.,
spatial grid and the aggregate’s energy is evaluated. Afterwards, the second
molecule is rotated according to Euler angles around its main axes defined by
the second, i.e., angular grid and the scan is repeated for every such
orientation. I greatly improved the speed of this brute-force approach by
excessive screening of vdW-overlaps and aggregates, whose vdW surfaces are
farther apart than a given distance (here: 2.5 Å). I remark that this screening
has to be performed for every angular arrangement independently and only very
few points can be screened right at the start, i.e., those inside and slightly
outside the vdW-surface of the central molecule.</p>
<p>The second step is the search for geometries corresponding to local energy
minima for each angular arrangement: I define a local minimum spatial point as
such a point, whose associated aggregate has an energy lower than that of every
other point in its neighborhood. Given a definition for “neighborhood”, a
neighbor list is generated associating each point with its neighbors allowing
for treating irregular grids just like regular ones. This list is then used to
determine all local energy minima by simple comparison of the stored volumetric
data.</p>
<p>The third step is the selection of the desired number of highly diverse
low-energy aggregate geometries: first, the programme discards all those
remaining geometries whose energy, possibly obtained using a different method
than before, is higher than a given cutoff. Geometrical similarity is then
estimated by computing the RMSD between two aggregates after they were again
aligned to the origin and the three Cartesian axes. In order to minimize the
required number of RMSD computations, I use a tree-based algorithm as
implemented in OpenBabel. This algorithm, however, is designed to quickly
extract such geometries from a given set, whose RMSDs with respect to each
other are all larger than a given cutoff, without storing pairwise RMSDs. In
order to obtain a small number of highly diverse dimers, the aforementioned
cutoff is increased step by step, thereby successively reducing the number of
dimers until there is at most the desired number of them left.</p>
<p>The aggregates’ energies were evaluated using force-fields as implemented in
the OpenBabel chemical toolbox. Technically, every energy evaluation method
could be used for this algorithm. However, the great advantage of force-fields
is the high speed of energy evaluations as compared to, for example, density
functional theory calculations. The great disadvantage of force-fields is
undoubtedly that some bonds might not be parameterized correctly for newly
synthesized molecules. Since this algorithm evaluates differences only in
intermolecular interactions, I believe it to be accurate enough to determine
starting structures for further treatment as the here described algorithm is
only the first step in the computational generation of higher aggregates
(described elsewhere, not yet published). In order to avoid the generation of
false low-energy local minimum aggregates, the resulting structures should be
quantum chemically optimized in a final step.</p>
</div>
<div class="section" id="module-ManipulateAggregates.orbitalcharacter">
<span id="orbitalcharacter"></span><h2>Orbitalcharacter<a class="headerlink" href="#module-ManipulateAggregates.orbitalcharacter" title="Permalink to this headline">¶</a></h2>
<p>This submodule agregates functions that can be applied to QM orbitals.</p>
<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.DEFAULT_FUNC">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">DEFAULT_FUNC</code><span class="sig-paren">(</span><em class="sig-param">d1</em>, <em class="sig-param">d2</em><span class="sig-paren">)</span><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.DEFAULT_FUNC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.apply_func_density">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">apply_func_density</code><span class="sig-paren">(</span><em class="sig-param">density_1</em>, <em class="sig-param">density_2</em>, <em class="sig-param">outdens</em>, <em class="sig-param">compress=False</em>, <em class="sig-param">func=&lt;function &lt;lambda&gt;&gt;</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/orbitalcharacter.html#apply_func_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.apply_func_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a given function to two densities and write result to file.</p>
<p>If density_2 is None, apply the given function only to the first
density. If no function is provided, only the first density is written out.</p>
<dl class="simple">
<dt>Bug:</dt><dd><p>If both dx-files define unequal grids that have the same number of
points, the correlation is still computed but the results are not the
actual correlations.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – </p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>density_1</strong> – (string) - name of the dx-file that contains the first density</p></li>
<li><p><strong>density_2</strong> – (string) - name of the dx-file that contains the second density</p></li>
<li><p><strong>outdens</strong> – (string) - name of the dx-file that shall contain the output density</p></li>
<li><p><strong>compress</strong> – (bool) - whether or not the difference density shall be written in
gzipped format or not</p></li>
<li><p><strong>func</strong> – (function of 2 variables applicable to numpy arrays) - How to obtain the
new density when given the old ones</p></li>
<li><p><strong>verbose</strong> – (bool) - give progress updates</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.density_overlap">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">density_overlap</code><span class="sig-paren">(</span><em class="sig-param">density_1</em>, <em class="sig-param">density_2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/orbitalcharacter.html#density_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.density_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Just compute and print the correlation between two densities given by their dx-files.</p>
<p>This obviously only makes sense of the two dx-files define the exact same
grids. However, only agreement between the number of points is checked.</p>
<dl class="simple">
<dt>Bug:</dt><dd><p>If both dx-files define unequal grids that have the same number of
points, the correlation is still computed but the results are not the
actual correlations.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError.</strong> – </p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>density_1</strong> – (string) name of the dx-file that contains the first density</p></li>
<li><p><strong>density_2</strong> – (string) name of the dx-file that contains the second density</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.difference_density">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">difference_density</code><span class="sig-paren">(</span><em class="sig-param">density_1</em>, <em class="sig-param">density_2</em>, <em class="sig-param">dxdiffdens</em>, <em class="sig-param">compress=False</em>, <em class="sig-param">factor=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/orbitalcharacter.html#difference_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.difference_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Just compute the difference between two densities given by their dx-files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_1</strong> – (string) name of the dx-file that contains the first density</p></li>
<li><p><strong>density_2</strong> – (string) name of the dx-file that contains the second density</p></li>
<li><p><strong>dxdiffdens</strong> – (string) name of the dx-file that shall contain the difference density.</p></li>
<li><p><strong>compress</strong> – (bool) whether or not the difference density shall be written
in gzipped format or not.</p></li>
<li><p><strong>factor</strong> – (float) this factor is multiplied with the second density
before computing the difference</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.expand_total_wavefunction">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">expand_total_wavefunction</code><span class="sig-paren">(</span><em class="sig-param">MOs</em>, <em class="sig-param">Smat</em>, <em class="sig-param">normalize=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/orbitalcharacter.html#expand_total_wavefunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.expand_total_wavefunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total wavefunction, i.e., the sum over all molecular orbitals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MOs</strong> – (list of lists of floats) coefficients describing the molecular orbitals</p></li>
<li><p><strong>Smat</strong> – (square matrix of floats) matrix describing the overlap
between the shels of the basis used to obtain the molecular orbitals</p></li>
<li><p><strong>normalize</strong> – (bool) whether or not to make it so that the overlap of the
returned total wavefunction with itself shall be 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of floats describing the total wavefunction in the given basis</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ManipulateAggregates.orbitalcharacter.read_molden_orbitals_corrected">
<code class="sig-prename descclassname">ManipulateAggregates.orbitalcharacter.</code><code class="sig-name descname">read_molden_orbitals_corrected</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ManipulateAggregates/orbitalcharacter.html#read_molden_orbitals_corrected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ManipulateAggregates.orbitalcharacter.read_molden_orbitals_corrected" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a molden-file and apply corrections.</p>
<p>The applied corrections make sure that each shell in the given basis is
normalized and that all molecular orbitals are normalized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – (string) the name of the molden-file ro be read. Not a path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>basis,Smat,(MOsalpha,MOsbeta),(OCCsalpha,OCCsbeta). The value for basis
(a list of [A,L,Prim]) is what is described
in ManipulateAggregates.orbitalcharacter.density_on_grid.basis. Smat is
described in ManipulateAggregates.orbitalcharacter.expand_total_wavefunction.
MOsalpha and MOsbeta are lists of floats of the molecular orbital
coefficients for alpha and beta spins, respectively. OCCsalpha and
OCCsbeta are lists of floats of the occupations of the molecular
orbitals for alpha and beta spins, respectively.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
<div class="section" id="misc">
<h1>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Author: Torsten Sachse</p></li>
<li><p>Date: 2015-2020</p></li>
<li><p>Version: 0.1</p></li>
<li><p>License: GNU General Public License version 3</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Torsten Sachse

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>